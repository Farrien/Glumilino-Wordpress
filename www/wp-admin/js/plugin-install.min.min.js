var tb_position;jQuery(document).ready(function(t){var y,u,s,x,q,r,n=t(".upload-view-toggle"),o=t(".wrap"),v=t(document.body);tb_position=function(){var a=t(window).width(),b=t(window).height()-((792<a)?60:20),c=(792<a)?772:a-20;y=t("#TB_window");if(y.length){y.width(c).height(b);t("#TB_iframeContent").width(c).height(b);y.css({"margin-left":"-"+parseInt((c/2),10)+"px"});if(typeof document.body.style.maxWidth!=="undefined"){y.css({top:"30px","margin-top":"0"})}}return t("a.thickbox").each(function(){var d=t(this).attr("href");if(!d){return}d=d.replace(/&width=[0-9]+/g,"");d=d.replace(/&height=[0-9]+/g,"");t(this).attr("href",d+"&width="+c+"&height="+(b))})};t(window).resize(function(){tb_position()});v.on("thickbox:iframe:loaded",y,function(){p()}).on("thickbox:removed",function(){u.focus()});function p(){var a=y.find("#TB_iframeContent");s=a.contents().find("body");z();q.focus();t("#plugin-information-tabs a",s).on("click",function(){z()});s.on("keydown",function(b){if(27!==b.which){return}tb_remove()})}function z(){var a;x=t(":tabbable",s);q=y.find("#TB_closeWindowButton");r=x.last();a=q.add(r);a.off("keydown.wp-plugin-details");a.on("keydown.wp-plugin-details",function(b){w(b)})}function w(a){if(9!==a.which){return}if(r[0]===a.target&&!a.shiftKey){a.preventDefault();q.focus()}else{if(q[0]===a.target&&a.shiftKey){a.preventDefault();r.focus()}}}t(".thickbox.open-plugin-details-modal").on("click",function(b){var a=t(this).data("title")?plugininstallL10n.plugin_information+" "+t(this).data("title"):plugininstallL10n.plugin_modal_label;b.preventDefault();b.stopPropagation();u=t(this);tb_click.call(this);y.attr({role:"dialog","aria-label":plugininstallL10n.plugin_modal_label});y.find("#TB_iframeContent").attr("title",a)});t("#plugin-information-tabs a").click(function(a){var b=t(this).attr("name");a.preventDefault();t("#plugin-information-tabs a.current").removeClass("current");t(this).addClass("current");if("description"!==b&&t(window).width()<772){t("#plugin-information-content").find(".fyi").hide()}else{t("#plugin-information-content").find(".fyi").show()}t("#section-holder div.section").hide();t("#section-"+b).show()});if(!o.hasClass("plugin-install-tab-upload")){n.attr({role:"button","aria-expanded":"false"}).on("click",function(a){a.preventDefault();v.toggleClass("show-upload-view");n.attr("aria-expanded",v.hasClass("show-upload-view"))})}});