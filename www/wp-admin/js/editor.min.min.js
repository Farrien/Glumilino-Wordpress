(function(c){function d(){var m,b,q={};function a(){if(!m&&window.tinymce){m=window.tinymce;b=m.$;b(document).on("click",function(e){var f,g,h=b(e.target);if(h.hasClass("wp-switch-editor")){f=h.attr("data-wp-editor-id");g=h.hasClass("switch-tmce")?"tmce":"html";r(f,g)}})}}function s(g){var f=b(".mce-toolbar-grp",g.getContainer())[0],e=f&&f.clientHeight;if(e&&e>10&&e<200){return parseInt(e,10)}return 30}function r(j,f){j=j||"content";f=f||"toggle";var v,k,h,e=m.get(j),i=b("#wp-"+j+"-wrap"),g=b("#"+j),l=g[0];if("toggle"===f){if(e&&!e.isHidden()){f="html"}else{f="tmce"}}if("tmce"===f||"tinymce"===f){if(e&&!e.isHidden()){return false}if(typeof(window.QTags)!=="undefined"){window.QTags.closeAllTags(j)}v=parseInt(l.style.height,10)||0;if(e){e.show();if(!m.Env.iOS&&v){k=s(e);v=v-k+14;if(v>50&&v<5000){e.theme.resizeTo(null,v)}}}else{m.init(window.tinyMCEPreInit.mceInit[j])}i.removeClass("html-active").addClass("tmce-active");g.attr("aria-hidden",true);window.setUserSetting("editor","tinymce")}else{if("html"===f){if(e&&e.isHidden()){return false}if(e){if(!m.Env.iOS){h=e.iframeElement;v=h?parseInt(h.style.height,10):0;if(v){k=s(e);v=v+k-14;if(v>50&&v<5000){l.style.height=v+"px"}}}e.hide()}else{g.css({display:"",visibility:""})}i.removeClass("tmce-active").addClass("html-active");g.attr("aria-hidden",false);window.setUserSetting("editor","html")}}}function t(k){var f="blockquote|ul|ol|li|dl|dt|dd|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset|figure",h=f+"|div|p",i=f+"|pre",g=false,j=false,e=[];if(!k){return""}if(k.indexOf("<script")!==-1||k.indexOf("<style")!==-1){k=k.replace(/<(script|style)[^>]*>[\s\S]*?<\/\1>/g,function(l){e.push(l);return"<wp-preserve>"})}if(k.indexOf("<pre")!==-1){g=true;k=k.replace(/<pre[^>]*>[\s\S]+?<\/pre>/g,function(l){l=l.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-line-break>");l=l.replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-line-break>");return l.replace(/\r?\n/g,"<wp-line-break>")})}if(k.indexOf("[caption")!==-1){j=true;k=k.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(l){return l.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,"")})}k=k.replace(new RegExp("\\s*</("+h+")>\\s*","g"),"</$1>\n");k=k.replace(new RegExp("\\s*<((?:"+h+")(?: [^>]*)?)>","g"),"\n<$1>");k=k.replace(/(<p [^>]+>.*?)<\/p>/g,"$1</p#>");k=k.replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n");k=k.replace(/\s*<p>/gi,"");k=k.replace(/\s*<\/p>\s*/gi,"\n\n");k=k.replace(/\n[\s\u00a0]+\n/g,"\n\n");k=k.replace(/\s*<br ?\/?>\s*/gi,"\n");k=k.replace(/\s*<div/g,"\n<div");k=k.replace(/<\/div>\s*/g,"</div>\n");k=k.replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n");k=k.replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption");k=k.replace(new RegExp("\\s*<((?:"+i+")(?: [^>]*)?)\\s*>","g"),"\n<$1>");k=k.replace(new RegExp("\\s*</("+i+")>\\s*","g"),"</$1>\n");k=k.replace(/<((li|dt|dd)[^>]*)>/g," \t<$1>");if(k.indexOf("<option")!==-1){k=k.replace(/\s*<option/g,"\n<option");k=k.replace(/\s*<\/select>/g,"\n</select>")}if(k.indexOf("<hr")!==-1){k=k.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n")}if(k.indexOf("<object")!==-1){k=k.replace(/<object[\s\S]+?<\/object>/g,function(l){return l.replace(/[\r\n]+/g,"")})}k=k.replace(/<\/p#>/g,"</p>\n");k=k.replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1");k=k.replace(/^\s+/,"");k=k.replace(/[\s\u00a0]+$/,"");if(g){k=k.replace(/<wp-line-break>/g,"\n")}if(j){k=k.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")}if(e.length){k=k.replace(/<wp-preserve>/g,function(){return e.shift()})}return k}function o(g){var h=false,e=false,f="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary";g=g.replace(/\r\n|\r/g,"\n");if(g.indexOf("\n")===-1){return g}if(g.indexOf("<object")!==-1){g=g.replace(/<object[\s\S]+?<\/object>/g,function(i){return i.replace(/\n+/g,"")})}g=g.replace(/<[^<>]+>/g,function(i){return i.replace(/[\n\t ]+/g," ")});if(g.indexOf("<pre")!==-1||g.indexOf("<script")!==-1){h=true;g=g.replace(/<(pre|script)[^>]*>[\s\S]*?<\/\1>/g,function(i){return i.replace(/\n/g,"<wp-line-break>")})}if(g.indexOf("<figcaption")!==-1){g=g.replace(/\s*(<figcaption[^>]*>)/g,"$1");g=g.replace(/<\/figcaption>\s*/g,"</figcaption>")}if(g.indexOf("[caption")!==-1){e=true;g=g.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(i){i=i.replace(/<br([^>]*)>/g,"<wp-temp-br$1>");i=i.replace(/<[^<>]+>/g,function(j){return j.replace(/[\n\t ]+/," ")});return i.replace(/\s*\n\s*/g,"<wp-temp-br />")})}g=g+"\n\n";g=g.replace(/<br \/>\s*<br \/>/gi,"\n\n");g=g.replace(new RegExp("(<(?:"+f+")(?: [^>]*)?>)","gi"),"\n\n$1");g=g.replace(new RegExp("(</(?:"+f+")>)","gi"),"$1\n\n");g=g.replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n");g=g.replace(/\s*<option/gi,"<option");g=g.replace(/<\/option>\s*/gi,"</option>");g=g.replace(/\n\s*\n+/g,"\n\n");g=g.replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n");g=g.replace(/<p>\s*?<\/p>/gi,"");g=g.replace(new RegExp("<p>\\s*(</?(?:"+f+")(?: [^>]*)?>)\\s*</p>","gi"),"$1");g=g.replace(/<p>(<li.+?)<\/p>/gi,"$1");g=g.replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>");g=g.replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>");g=g.replace(new RegExp("<p>\\s*(</?(?:"+f+")(?: [^>]*)?>)","gi"),"$1");g=g.replace(new RegExp("(</?(?:"+f+")(?: [^>]*)?>)\\s*</p>","gi"),"$1");g=g.replace(/(<br[^>]*>)\s*\n/gi,"$1");g=g.replace(/\s*\n/g,"<br />\n");g=g.replace(new RegExp("(</?(?:"+f+")[^>]*>)\\s*<br />","gi"),"$1");g=g.replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1");g=g.replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]");g=g.replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(j,k,i){if(i.match(/<p( [^>]*)?>/)){return j}return k+"<p>"+i+"</p>"});if(h){g=g.replace(/<wp-line-break>/g,"\n")}if(e){g=g.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")}return g}function n(e){var f={o:q,data:e,unfiltered:e};if(c){c("body").trigger("beforePreWpautop",[f])}f.data=t(f.data);if(c){c("body").trigger("afterPreWpautop",[f])}return f.data}function p(f){var e={o:q,data:f,unfiltered:f};if(c){c("body").trigger("beforeWpautop",[e])}e.data=o(e.data);if(c){c("body").trigger("afterWpautop",[e])}return e.data}if(c){c(document).ready(a)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",a,false);window.addEventListener("load",a,false)}else{if(window.attachEvent){window.attachEvent("onload",a);document.attachEvent("onreadystatechange",function(){if("complete"===document.readyState){a()}})}}}window.wp=window.wp||{};window.wp.editor=window.wp.editor||{};window.wp.editor.autop=p;window.wp.editor.removep=n;q={go:r,wpautop:p,pre_wpautop:n,_wp_Autop:o,_wp_Nop:t};return q}window.switchEditors=new d()}(window.jQuery));