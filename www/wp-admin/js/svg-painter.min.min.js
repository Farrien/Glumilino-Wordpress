window.wp=window.wp||{};wp.svgPainter=(function(o,l,k,q){var p,m,j,n={},r=[];o(k).ready(function(){if(k.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")){o(k.body).removeClass("no-svg").addClass("svg");wp.svgPainter.init()}});m=(function(){var d,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="",c=[256],f=[256],e=0;function t(){while(e<256){d=String.fromCharCode(e);b+=d;f[e]=e;c[e]=g.indexOf(d);++e}}function h(P,H,N,F,I,J){var K,O,M=0,L=0,s="",G=0;P=String(P);O=P.length;while(L<O){d=P.charCodeAt(L);d=d<256?N[d]:-1;M=(M<<I)+d;G+=I;while(G>=J){G-=J;K=M>>G;s+=F.charAt(K);M^=K<<G}++L}if(!H&&G>0){s+=F.charAt(M<<(J-G))}return s}function a(s){if(!d){t()}s=h(s,false,f,g,8,6);return s+"====".slice((s.length%4)||4)}function i(s){var v;if(!d){t()}s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");s=String(s).split("=");v=s.length;do{--v;s[v]=h(s[v],true,c,b,6,8)}while(v>0);s=s.join("");return s}return{atob:i,btoa:a}})();return{init:function(){j=this;p=o("#adminmenu .wp-menu-image, #wpadminbar .ab-item");this.setColors();this.findElements();this.paint()},setColors:function(a){if(typeof a==="undefined"&&typeof l._wpColorScheme!=="undefined"){a=l._wpColorScheme}if(a&&a.icons&&a.icons.base&&a.icons.current&&a.icons.focus){n=a.icons}},findElements:function(){p.each(function(){var a=o(this),b=a.css("background-image");if(b&&b.indexOf("data:image/svg+xml;base64")!=-1){r.push(a)}})},paint:function(){o.each(r,function(b,c){var a=c.parent().parent();if(a.hasClass("current")||a.hasClass("wp-has-current-submenu")){j.paintElement(c,"current")}else{j.paintElement(c,"base");a.hover(function(){j.paintElement(c,"focus")},function(){l.setTimeout(function(){j.paintElement(c,"base")},100)})}})},paintElement:function(d,b){var f,e,c;if(!b||!n.hasOwnProperty(b)){return}c=n[b];if(!c.match(/^(#[0-9a-f]{3}|#[0-9a-f]{6})$/i)){return}f=d.data("wp-ui-svg-"+c);if(f==="none"){return}if(!f){e=d.css("background-image").match(/.+data:image\/svg\+xml;base64,([A-Za-z0-9\+\/\=]+)/);if(!e||!e[1]){d.data("wp-ui-svg-"+c,"none");return}try{if("atob" in l){f=l.atob(e[1])}else{f=m.atob(e[1])}}catch(a){}if(f){f=f.replace(/fill="(.+?)"/g,'fill="'+c+'"');f=f.replace(/style="(.+?)"/g,'style="fill:'+c+'"');f=f.replace(/fill:.*?;/g,"fill: "+c+";");if("btoa" in l){f=l.btoa(f)}else{f=m.btoa(f)}d.data("wp-ui-svg-"+c,f)}else{d.data("wp-ui-svg-"+c,"none");return}}d.attr("style",'background-image: url("data:image/svg+xml;base64,'+f+'") !important;')}}})(jQuery,window,document);