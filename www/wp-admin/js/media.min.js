var findPosts;(function(a){findPosts={open:function(d,c){var b=a(".ui-find-overlay");if(b.length===0){a("body").append('<div class="ui-find-overlay"></div>');findPosts.overlay()}b.show();if(d&&c){a("#affected").attr("name",d).val(c)}a("#find-posts").show();a("#find-posts-input").focus().keyup(function(e){if(e.which==27){findPosts.close()}});findPosts.send();return false},close:function(){a("#find-posts-response").empty();a("#find-posts").hide();a(".ui-find-overlay").hide()},overlay:function(){a(".ui-find-overlay").on("click",function(){findPosts.close()})},send:function(){var b={ps:a("#find-posts-input").val(),action:"find_posts",_ajax_nonce:a("#_ajax_nonce").val()},c=a(".find-box-search .spinner");c.addClass("is-active");a.ajax(ajaxurl,{type:"POST",data:b,dataType:"json"}).always(function(){c.removeClass("is-active")}).done(function(d){if(!d.success){a("#find-posts-response").text(attachMediaBoxL10n.error)}a("#find-posts-response").html(d.data)}).fail(function(){a("#find-posts-response").text(attachMediaBoxL10n.error)})}};a(document).ready(function(){var c,b=a("#wp-media-grid");if(b.length&&window.wp&&window.wp.media){c=_wpMediaGridSettings;window.wp.media({frame:"manage",container:b,library:c.queryVars}).open()}a("#find-posts-submit").click(function(d){if(!a('#find-posts-response input[type="radio"]:checked').length){d.preventDefault()}});a("#find-posts .find-box-search :input").keypress(function(d){if(13==d.which){findPosts.send();return false}});a("#find-posts-search").click(findPosts.send);a("#find-posts-close").click(findPosts.close);a("#doaction, #doaction2").click(function(d){a('select[name^="action"]').each(function(){var e=a(this).val();if("attach"===e){d.preventDefault();findPosts.open()}else{if("delete"===e){if(!showNotice.warn()){d.preventDefault()}}}})});a(".find-box-inside").on("click","tr",function(){a(this).find(".found-radio input").prop("checked",true)})})})(jQuery);