window.wp=window.wp||{};var inlineEditTax;(function(c,d){inlineEditTax={init:function(){var b=this,a=c("#inline-edit");b.type=c("#the-list").attr("data-wp-lists").substr(5);b.what="#"+b.type+"-";c("#the-list").on("click","a.editinline",function(){inlineEditTax.edit(this);return false});a.keyup(function(e){if(e.which===27){return inlineEditTax.revert()}});c(".cancel",a).click(function(){return inlineEditTax.revert()});c(".save",a).click(function(){return inlineEditTax.save(this)});c("input, select",a).keydown(function(e){if(e.which===13){return inlineEditTax.save(this)}});c('#posts-filter input[type="submit"]').mousedown(function(){b.revert()})},toggle:function(a){var b=this;c(b.what+b.getId(a)).css("display")==="none"?b.revert():b.edit(a)},edit:function(a){var j,h,b,i=this;i.revert();if(typeof(a)==="object"){a=i.getId(a)}j=c("#inline-edit").clone(true),h=c("#inline_"+a);c("td",j).attr("colspan",c("th:visible, td:visible",".wp-list-table.widefat:first thead").length);c(i.what+a).hide().after(j).after('<tr class="hidden"></tr>');b=c(".name",h);b.find("img").replaceWith(function(){return this.alt});b=b.text();c(':input[name="name"]',j).val(b);b=c(".slug",h);b.find("img").replaceWith(function(){return this.alt});b=b.text();c(':input[name="slug"]',j).val(b);c(j).attr("id","edit-"+a).addClass("inline-editor").show();c(".ptitle",j).eq(0).focus();return false},save:function(a){var b,h,g=c('input[name="taxonomy"]').val()||"";if(typeof(a)==="object"){a=this.getId(a)}c("table.widefat .spinner").addClass("is-active");b={action:"inline-save-tax",tax_type:this.type,tax_ID:a,taxonomy:g};h=c("#edit-"+a).find(":input").serialize();b=h+"&"+c.param(b);c.post(ajaxurl,b,function(f){var e,l,n,m=c("#edit-"+a+" .inline-edit-save .error");c("table.widefat .spinner").removeClass("is-active");if(f){if(-1!==f.indexOf("<tr")){c(inlineEditTax.what+a).siblings("tr.hidden").addBack().remove();l=c(f).attr("id");c("#edit-"+a).before(f).remove();if(l){n=l.replace(inlineEditTax.type+"-","");e=c("#"+l)}else{n=a;e=c(inlineEditTax.what+a)}c("#parent").find("option[value="+n+"]").text(e.find(".row-title").text());e.hide().fadeIn(400,function(){e.find(".editinline").focus();d.a11y.speak(inlineEditL10n.saved)})}else{m.html(f).show();d.a11y.speak(m.text())}}else{m.html(inlineEditL10n.error).show();d.a11y.speak(inlineEditL10n.error)}});return false},revert:function(){var a=c("table.widefat tr.inline-editor").attr("id");if(a){c("table.widefat .spinner").removeClass("is-active");c("#"+a).siblings("tr.hidden").addBack().remove();a=a.substr(a.lastIndexOf("-")+1);c(this.what+a).show().find(".editinline").focus()}},getId:function(b){var a=b.tagName==="TR"?b.id:c(b).parents("tr").attr("id"),f=a.split("-");return f[f.length-1]}};c(document).ready(function(){inlineEditTax.init()})})(jQuery,window.wp);