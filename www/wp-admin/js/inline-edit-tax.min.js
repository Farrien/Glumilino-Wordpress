window.wp=window.wp||{};var inlineEditTax;(function(b,a){inlineEditTax={init:function(){var c=this,d=b("#inline-edit");c.type=b("#the-list").attr("data-wp-lists").substr(5);c.what="#"+c.type+"-";b("#the-list").on("click","a.editinline",function(){inlineEditTax.edit(this);return false});d.keyup(function(f){if(f.which===27){return inlineEditTax.revert()}});b(".cancel",d).click(function(){return inlineEditTax.revert()});b(".save",d).click(function(){return inlineEditTax.save(this)});b("input, select",d).keydown(function(f){if(f.which===13){return inlineEditTax.save(this)}});b('#posts-filter input[type="submit"]').mousedown(function(){c.revert()})},toggle:function(d){var c=this;b(c.what+c.getId(d)).css("display")==="none"?c.revert():c.edit(d)},edit:function(g){var c,e,f,d=this;d.revert();if(typeof(g)==="object"){g=d.getId(g)}c=b("#inline-edit").clone(true),e=b("#inline_"+g);b("td",c).attr("colspan",b("th:visible, td:visible",".wp-list-table.widefat:first thead").length);b(d.what+g).hide().after(c).after('<tr class="hidden"></tr>');f=b(".name",e);f.find("img").replaceWith(function(){return this.alt});f=f.text();b(':input[name="name"]',c).val(f);f=b(".slug",e);f.find("img").replaceWith(function(){return this.alt});f=f.text();b(':input[name="slug"]',c).val(f);b(c).attr("id","edit-"+g).addClass("inline-editor").show();b(".ptitle",c).eq(0).focus();return false},save:function(f){var e,c,d=b('input[name="taxonomy"]').val()||"";if(typeof(f)==="object"){f=this.getId(f)}b("table.widefat .spinner").addClass("is-active");e={action:"inline-save-tax",tax_type:this.type,tax_ID:f,taxonomy:d};c=b("#edit-"+f).find(":input").serialize();e=c+"&"+b.param(e);b.post(ajaxurl,e,function(j){var k,i,g,h=b("#edit-"+f+" .inline-edit-save .error");b("table.widefat .spinner").removeClass("is-active");if(j){if(-1!==j.indexOf("<tr")){b(inlineEditTax.what+f).siblings("tr.hidden").addBack().remove();i=b(j).attr("id");b("#edit-"+f).before(j).remove();if(i){g=i.replace(inlineEditTax.type+"-","");k=b("#"+i)}else{g=f;k=b(inlineEditTax.what+f)}b("#parent").find("option[value="+g+"]").text(k.find(".row-title").text());k.hide().fadeIn(400,function(){k.find(".editinline").focus();a.a11y.speak(inlineEditL10n.saved)})}else{h.html(j).show();a.a11y.speak(h.text())}}else{h.html(inlineEditL10n.error).show();a.a11y.speak(inlineEditL10n.error)}});return false},revert:function(){var c=b("table.widefat tr.inline-editor").attr("id");if(c){b("table.widefat .spinner").removeClass("is-active");b("#"+c).siblings("tr.hidden").addBack().remove();c=c.substr(c.lastIndexOf("-")+1);b(this.what+c).show().find(".editinline").focus()}},getId:function(d){var e=d.tagName==="TR"?d.id:b(d).parents("tr").attr("id"),c=e.split("-");return c[c.length-1]}};b(document).ready(function(){inlineEditTax.init()})})(jQuery,window.wp);