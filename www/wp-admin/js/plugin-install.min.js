var tb_position;jQuery(document).ready(function(g){var b,f,h,c,j,i,m=g(".upload-view-toggle"),l=g(".wrap"),e=g(document.body);tb_position=function(){var p=g(window).width(),o=g(window).height()-((792<p)?60:20),n=(792<p)?772:p-20;b=g("#TB_window");if(b.length){b.width(n).height(o);g("#TB_iframeContent").width(n).height(o);b.css({"margin-left":"-"+parseInt((n/2),10)+"px"});if(typeof document.body.style.maxWidth!=="undefined"){b.css({top:"30px","margin-top":"0"})}}return g("a.thickbox").each(function(){var q=g(this).attr("href");if(!q){return}q=q.replace(/&width=[0-9]+/g,"");q=q.replace(/&height=[0-9]+/g,"");g(this).attr("href",q+"&width="+n+"&height="+(o))})};g(window).resize(function(){tb_position()});e.on("thickbox:iframe:loaded",b,function(){k()}).on("thickbox:removed",function(){f.focus()});function k(){var n=b.find("#TB_iframeContent");h=n.contents().find("body");a();j.focus();g("#plugin-information-tabs a",h).on("click",function(){a()});h.on("keydown",function(o){if(27!==o.which){return}tb_remove()})}function a(){var n;c=g(":tabbable",h);j=b.find("#TB_closeWindowButton");i=c.last();n=j.add(i);n.off("keydown.wp-plugin-details");n.on("keydown.wp-plugin-details",function(o){d(o)})}function d(n){if(9!==n.which){return}if(i[0]===n.target&&!n.shiftKey){n.preventDefault();j.focus()}else{if(j[0]===n.target&&n.shiftKey){n.preventDefault();i.focus()}}}g(".thickbox.open-plugin-details-modal").on("click",function(n){var o=g(this).data("title")?plugininstallL10n.plugin_information+" "+g(this).data("title"):plugininstallL10n.plugin_modal_label;n.preventDefault();n.stopPropagation();f=g(this);tb_click.call(this);b.attr({role:"dialog","aria-label":plugininstallL10n.plugin_modal_label});b.find("#TB_iframeContent").attr("title",o)});g("#plugin-information-tabs a").click(function(o){var n=g(this).attr("name");o.preventDefault();g("#plugin-information-tabs a.current").removeClass("current");g(this).addClass("current");if("description"!==n&&g(window).width()<772){g("#plugin-information-content").find(".fyi").hide()}else{g("#plugin-information-content").find(".fyi").show()}g("#section-holder div.section").hide();g("#section-"+n).show()});if(!l.hasClass("plugin-install-tab-upload")){m.attr({role:"button","aria-expanded":"false"}).on("click",function(n){n.preventDefault();e.toggleClass("show-upload-view");m.attr("aria-expanded",e.hasClass("show-upload-view"))})}});