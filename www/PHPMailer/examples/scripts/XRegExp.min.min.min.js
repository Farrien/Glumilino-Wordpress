var XRegExp;if(XRegExp){throw Error("can't load XRegExp twice in the same frame")}(function(g){XRegExp=function(t,y){var x=[],r=XRegExp.OUTSIDE_CLASS,u=0,w,p,s,q,v;if(XRegExp.isRegExp(t)){if(y!==g){throw TypeError("can't supply flags when constructing one RegExp from another")}return m(t)}if(j){throw Error("can't call the XRegExp constructor within token definition functions")}y=y||"";w={hasNamedCapture:false,captureNames:[],hasFlag:function(z){return y.indexOf(z)>-1},setFlag:function(z){y+=z}};while(u<t.length){p=e(t,u,r,w);if(p){x.push(p.output);u+=(p.match[0].length||1)}else{if(s=o.exec.call(l[r],t.slice(u))){x.push(s[0]);u+=s[0].length}else{q=t.charAt(u);if(q==="["){r=XRegExp.INSIDE_CLASS}else{if(q==="]"){r=XRegExp.OUTSIDE_CLASS}}x.push(q);u++}}}v=RegExp(x.join(""),o.replace.call(y,k,""));v._xregexp={source:t,captureNames:w.hasNamedCapture?w.captureNames:null};return v};XRegExp.version="1.5.1";XRegExp.INSIDE_CLASS=1;XRegExp.OUTSIDE_CLASS=2;var f=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,k=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,d=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,j=false,n=[],o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},b=o.exec.call(/()??/,"")[1]===g,i=function(){var p=/^/g;o.test.call(p,"");return !p.lastIndex}(),c=RegExp.prototype.sticky!==g,l={};l[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;l[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;XRegExp.addToken=function(q,p,s,r){n.push({pattern:m(q,"g"+(c?"y":"")),handler:p,scope:s||XRegExp.OUTSIDE_CLASS,trigger:r||null})};XRegExp.cache=function(q,r){var p=q+"/"+(r||"");return XRegExp.cache[p]||(XRegExp.cache[p]=XRegExp(q,r))};XRegExp.copyAsGlobal=function(p){return m(p,"g")};XRegExp.escape=function(p){return p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};XRegExp.execAt=function(p,u,q,t){var r=m(u,"g"+((t&&c)?"y":"")),s;r.lastIndex=q=q||0;s=r.exec(p);if(t&&s&&s.index!==q){s=null}if(u.global){u.lastIndex=s?r.lastIndex:0}return s};XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}};XRegExp.isRegExp=function(p){return Object.prototype.toString.call(p)==="[object RegExp]"};XRegExp.iterate=function(p,v,q,u){var r=m(v,"g"),t=-1,s;while(s=r.exec(p)){if(v.global){v.lastIndex=r.lastIndex}q.call(u,s,++t,p,v);if(r.lastIndex===s.index){r.lastIndex++}}if(v.global){v.lastIndex=0}};XRegExp.matchChain=function(p,r){return function q(s,x){var v=r[x].regex?r[x]:{regex:r[x]},u=m(v.regex,"g"),w=[],t;for(t=0;t<s.length;t++){XRegExp.iterate(s[t],u,function(y){w.push(v.backref?(y[v.backref]||""):y[0])})}return((x===r.length-1)||!w.length)?w:q(w,x+1)}([p],0)};RegExp.prototype.apply=function(q,p){return this.exec(p[0])};RegExp.prototype.call=function(p,q){return this.exec(q)};RegExp.prototype.exec=function(q){var u,t,s,r;if(!this.global){r=this.lastIndex}u=o.exec.apply(this,arguments);if(u){if(!b&&u.length>1&&a(u,"")>-1){s=RegExp(this.source,o.replace.call(h(this),"g",""));o.replace.call((q+"").slice(u.index),s,function(){for(var v=1;v<arguments.length-2;v++){if(arguments[v]===g){u[v]=g}}})}if(this._xregexp&&this._xregexp.captureNames){for(var p=1;p<u.length;p++){t=this._xregexp.captureNames[p-1];if(t){u[t]=u[p]}}}if(!i&&this.global&&!u[0].length&&(this.lastIndex>u.index)){this.lastIndex--}}if(!this.global){this.lastIndex=r}return u};RegExp.prototype.test=function(q){var p,r;if(!this.global){r=this.lastIndex}p=o.exec.call(this,q);if(p&&!i&&this.global&&!p[0].length&&(this.lastIndex>p.index)){this.lastIndex--}if(!this.global){this.lastIndex=r}return !!p};String.prototype.match=function(q){if(!XRegExp.isRegExp(q)){q=RegExp(q)}if(q.global){var p=o.match.apply(this,arguments);q.lastIndex=0;return p}return q.exec(this)};String.prototype.replace=function(u,v){var p=XRegExp.isRegExp(u),t,s,q,r;if(p){if(u._xregexp){t=u._xregexp.captureNames}if(!u.global){r=u.lastIndex}}else{u=u+""}if(Object.prototype.toString.call(v)==="[object Function]"){s=o.replace.call(this+"",u,function(){if(t){arguments[0]=new String(arguments[0]);for(var w=0;w<t.length;w++){if(t[w]){arguments[0][t[w]]=arguments[w+1]}}}if(p&&u.global){u.lastIndex=arguments[arguments.length-2]+arguments[0].length}return v.apply(null,arguments)})}else{q=this+"";s=o.replace.call(q,u,function(){var w=arguments;return o.replace.call(v+"",f,function(x,A,y){if(A){switch(A){case"$":return"$";case"&":return w[0];case"`":return w[w.length-1].slice(0,w[w.length-2]);case"'":return w[w.length-1].slice(w[w.length-2]+w[0].length);default:var z="";A=+A;if(!A){return x}while(A>w.length-3){z=String.prototype.slice.call(A,-1)+z;A=Math.floor(A/10)}return(A?w[A]||"":"$")+z}}else{var B=+y;if(B<=w.length-3){return w[B]}B=t?a(t,y):-1;return B>-1?w[B+1]:x}})})}if(p){if(u.global){u.lastIndex=0}else{u.lastIndex=r}}return s};String.prototype.split=function(v,r){if(!XRegExp.isRegExp(v)){return o.split.apply(this,arguments)}var q=this+"",t=[],p=0,u,s;if(r===g||+r<0){r=Infinity}else{r=Math.floor(+r);if(!r){return[]}}v=XRegExp.copyAsGlobal(v);while(u=v.exec(q)){if(v.lastIndex>p){t.push(q.slice(p,u.index));if(u.length>1&&u.index<q.length){Array.prototype.push.apply(t,u.slice(1))}s=u[0].length;p=v.lastIndex;if(t.length>=r){break}}if(v.lastIndex===u.index){v.lastIndex++}}if(p===q.length){if(!o.test.call(v,"")||s){t.push("")}}else{t.push(q.slice(p))}return t.length>r?t.slice(0,r):t};function m(q,p){if(!XRegExp.isRegExp(q)){throw TypeError("type RegExp expected")}var r=q._xregexp;q=XRegExp(q.source,h(q)+(p||""));if(r){q._xregexp={source:r.source,captureNames:r.captureNames?r.captureNames.slice(0):null}}return q}function h(p){return(p.global?"g":"")+(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.extended?"x":"")+(p.sticky?"y":"")}function e(r,q,s,v){var x=n.length,u,p,t;j=true;try{while(x--){t=n[x];if((s&t.scope)&&(!t.trigger||t.trigger.call(v))){t.pattern.lastIndex=q;p=t.pattern.exec(r);if(p&&p.index===q){u={output:t.handler.call(v,p,s),match:p};break}}}}catch(w){throw w}finally{j=false}return u}function a(q,s,p){if(Array.prototype.indexOf){return q.indexOf(s,p)}for(var r=p||0;r<q.length;r++){if(q[r]===s){return r}}return -1}XRegExp.addToken(/\(\?#[^)]*\)/,function(p){return o.test.call(d,p.input.slice(p.index+p[0].length))?"":"(?:)"});XRegExp.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});XRegExp.addToken(/\(\?<([$\w]+)>/,function(p){this.captureNames.push(p[1]);this.hasNamedCapture=true;return"("});XRegExp.addToken(/\\k<([\w$]+)>/,function(q){var p=a(this.captureNames,q[1]);return p>-1?"\\"+(p+1)+(isNaN(q.input.charAt(q.index+q[0].length))?"":"(?:)"):q[0]});XRegExp.addToken(/\[\^?]/,function(p){return p[0]==="[]"?"\\b\\B":"[\\s\\S]"});XRegExp.addToken(/^\(\?([imsx]+)\)/,function(p){this.setFlag(p[1]);return""});XRegExp.addToken(/(?:\s+|#.*)+/,function(p){return o.test.call(d,p.input.slice(p.index+p[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")});XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();