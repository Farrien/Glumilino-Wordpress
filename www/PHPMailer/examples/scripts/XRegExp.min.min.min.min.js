var XRegExp;if(XRegExp){throw Error("can't load XRegExp twice in the same frame")}(function(x){XRegExp=function(i,d){var e=[],a=XRegExp.OUTSIDE_CLASS,h=0,f,c,j,b,g;if(XRegExp.isRegExp(i)){if(d!==x){throw TypeError("can't supply flags when constructing one RegExp from another")}return r(i)}if(u){throw Error("can't call the XRegExp constructor within token definition functions")}d=d||"";f={hasNamedCapture:false,captureNames:[],hasFlag:function(k){return d.indexOf(k)>-1},setFlag:function(k){d+=k}};while(h<i.length){c=z(i,h,a,f);if(c){e.push(c.output);h+=(c.match[0].length||1)}else{if(j=p.exec.call(s[a],i.slice(h))){e.push(j[0]);h+=j[0].length}else{b=i.charAt(h);if(b==="["){a=XRegExp.INSIDE_CLASS}else{if(b==="]"){a=XRegExp.OUTSIDE_CLASS}}e.push(b);h++}}}g=RegExp(e.join(""),p.replace.call(d,t,""));g._xregexp={source:i,captureNames:f.hasNamedCapture?f.captureNames:null};return g};XRegExp.version="1.5.1";XRegExp.INSIDE_CLASS=1;XRegExp.OUTSIDE_CLASS=2;var y=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,t=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,A=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,u=false,q=[],p={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},C=p.exec.call(/()??/,"")[1]===x,v=function(){var a=/^/g;p.test.call(a,"");return !a.lastIndex}(),B=RegExp.prototype.sticky!==x,s={};s[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;s[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;XRegExp.addToken=function(c,d,a,b){q.push({pattern:r(c,"g"+(B?"y":"")),handler:d,scope:a||XRegExp.OUTSIDE_CLASS,trigger:b||null})};XRegExp.cache=function(b,a){var c=b+"/"+(a||"");return XRegExp.cache[c]||(XRegExp.cache[c]=XRegExp(b,a))};XRegExp.copyAsGlobal=function(a){return r(a,"g")};XRegExp.escape=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};XRegExp.execAt=function(f,a,e,b){var d=r(a,"g"+((b&&B)?"y":"")),c;d.lastIndex=e=e||0;c=d.exec(f);if(b&&c&&c.index!==e){c=null}if(a.global){a.lastIndex=c?d.lastIndex:0}return c};XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}};XRegExp.isRegExp=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"};XRegExp.iterate=function(g,a,f,b){var e=r(a,"g"),c=-1,d;while(d=e.exec(g)){if(a.global){a.lastIndex=e.lastIndex}f.call(b,d,++c,g,a);if(e.lastIndex===d.index){e.lastIndex++}}if(a.global){a.lastIndex=0}};XRegExp.matchChain=function(c,a){return function b(i,d){var f=a[d].regex?a[d]:{regex:a[d]},g=r(f.regex,"g"),e=[],h;for(h=0;h<i.length;h++){XRegExp.iterate(i[h],g,function(j){e.push(f.backref?(j[f.backref]||""):j[0])})}return((d===a.length-1)||!e.length)?e:b(e,d+1)}([c],0)};RegExp.prototype.apply=function(a,b){return this.exec(b[0])};RegExp.prototype.call=function(b,a){return this.exec(a)};RegExp.prototype.exec=function(e){var a,b,c,d;if(!this.global){d=this.lastIndex}a=p.exec.apply(this,arguments);if(a){if(!C&&a.length>1&&D(a,"")>-1){c=RegExp(this.source,p.replace.call(w(this),"g",""));p.replace.call((e+"").slice(a.index),c,function(){for(var g=1;g<arguments.length-2;g++){if(arguments[g]===x){a[g]=x}}})}if(this._xregexp&&this._xregexp.captureNames){for(var f=1;f<a.length;f++){b=this._xregexp.captureNames[f-1];if(b){a[b]=a[f]}}}if(!v&&this.global&&!a[0].length&&(this.lastIndex>a.index)){this.lastIndex--}}if(!this.global){this.lastIndex=d}return a};RegExp.prototype.test=function(b){var c,a;if(!this.global){a=this.lastIndex}c=p.exec.call(this,b);if(c&&!v&&this.global&&!c[0].length&&(this.lastIndex>c.index)){this.lastIndex--}if(!this.global){this.lastIndex=a}return !!c};String.prototype.match=function(a){if(!XRegExp.isRegExp(a)){a=RegExp(a)}if(a.global){var b=p.match.apply(this,arguments);a.lastIndex=0;return b}return a.exec(this)};String.prototype.replace=function(b,a){var g=XRegExp.isRegExp(b),c,d,f,e;if(g){if(b._xregexp){c=b._xregexp.captureNames}if(!b.global){e=b.lastIndex}}else{b=b+""}if(Object.prototype.toString.call(a)==="[object Function]"){d=p.replace.call(this+"",b,function(){if(c){arguments[0]=new String(arguments[0]);for(var h=0;h<c.length;h++){if(c[h]){arguments[0][c[h]]=arguments[h+1]}}}if(g&&b.global){b.lastIndex=arguments[arguments.length-2]+arguments[0].length}return a.apply(null,arguments)})}else{f=this+"";d=p.replace.call(f,b,function(){var h=arguments;return p.replace.call(a+"",y,function(j,i,m){if(i){switch(i){case"$":return"$";case"&":return h[0];case"`":return h[h.length-1].slice(0,h[h.length-2]);case"'":return h[h.length-1].slice(h[h.length-2]+h[0].length);default:var k="";i=+i;if(!i){return j}while(i>h.length-3){k=String.prototype.slice.call(i,-1)+k;i=Math.floor(i/10)}return(i?h[i]||"":"$")+k}}else{var l=+m;if(l<=h.length-3){return h[l]}l=c?D(c,m):-1;return l>-1?h[l+1]:j}})})}if(g){if(b.global){b.lastIndex=0}else{b.lastIndex=e}}return d};String.prototype.split=function(a,e){if(!XRegExp.isRegExp(a)){return p.split.apply(this,arguments)}var f=this+"",c=[],g=0,b,d;if(e===x||+e<0){e=Infinity}else{e=Math.floor(+e);if(!e){return[]}}a=XRegExp.copyAsGlobal(a);while(b=a.exec(f)){if(a.lastIndex>g){c.push(f.slice(g,b.index));if(b.length>1&&b.index<f.length){Array.prototype.push.apply(c,b.slice(1))}d=b[0].length;g=a.lastIndex;if(c.length>=e){break}}if(a.lastIndex===b.index){a.lastIndex++}}if(g===f.length){if(!p.test.call(a,"")||d){c.push("")}}else{c.push(f.slice(g))}return c.length>e?c.slice(0,e):c};function r(b,c){if(!XRegExp.isRegExp(b)){throw TypeError("type RegExp expected")}var a=b._xregexp;b=XRegExp(b.source,w(b)+(c||""));if(a){b._xregexp={source:a.source,captureNames:a.captureNames?a.captureNames.slice(0):null}}return b}function w(a){return(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}function z(a,b,i,f){var d=q.length,g,c,h;u=true;try{while(d--){h=q[d];if((i&h.scope)&&(!h.trigger||h.trigger.call(f))){h.pattern.lastIndex=b;c=h.pattern.exec(a);if(c&&c.index===b){g={output:h.handler.call(f,c,i),match:c};break}}}}catch(e){throw e}finally{u=false}return g}function D(c,a,d){if(Array.prototype.indexOf){return c.indexOf(a,d)}for(var b=d||0;b<c.length;b++){if(c[b]===a){return b}}return -1}XRegExp.addToken(/\(\?#[^)]*\)/,function(a){return p.test.call(A,a.input.slice(a.index+a[0].length))?"":"(?:)"});XRegExp.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});XRegExp.addToken(/\(\?<([$\w]+)>/,function(a){this.captureNames.push(a[1]);this.hasNamedCapture=true;return"("});XRegExp.addToken(/\\k<([\w$]+)>/,function(a){var b=D(this.captureNames,a[1]);return b>-1?"\\"+(b+1)+(isNaN(a.input.charAt(a.index+a[0].length))?"":"(?:)"):a[0]});XRegExp.addToken(/\[\^?]/,function(a){return a[0]==="[]"?"\\b\\B":"[\\s\\S]"});XRegExp.addToken(/^\(\?([imsx]+)\)/,function(a){this.setFlag(a[1]);return""});XRegExp.addToken(/(?:\s+|#.*)+/,function(a){return p.test.call(A,a.input.slice(a.index+a[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")});XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();