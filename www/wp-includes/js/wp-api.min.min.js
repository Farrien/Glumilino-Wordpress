!function(e,d){function f(){this.models={},this.collections={},this.views={}}e.wp=e.wp||{},wp.api=wp.api||new f,wp.api.versionString=wp.api.versionString||"wp/v2/",!_.isFunction(_.includes)&&_.isFunction(_.contains)&&(_.includes=_.contains)}(window),function(f,e){var h,g;f.wp=f.wp||{},wp.api=wp.api||{},wp.api.utils=wp.api.utils||{},Date.prototype.toISOString||(h=function(b){return g=String(b),1===g.length&&(g="0"+g),g},Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"}),wp.api.utils.parseISO8601=function(b){var n,m,l,k,j=0,i=[1,4,5,6,7,10,11];if(m=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(b)){for(l=0;k=i[l];++l){m[k]=+m[k]||0}m[2]=(+m[2]||1)-1,m[3]=+m[3]||1,"Z"!==m[8]&&e!==m[9]&&(j=60*m[10]+m[11],"+"===m[9]&&(j=0-j)),n=Date.UTC(m[1],m[2],m[3],m[4],m[5]+j,m[6],m[7])}else{n=Date.parse?Date.parse(b):NaN}return n},wp.api.utils.getRootUrl=function(){return f.location.origin?f.location.origin+"/":f.location.protocol+"/"+f.location.host+"/"},wp.api.utils.capitalize=function(b){return _.isUndefined(b)?b:b.charAt(0).toUpperCase()+b.slice(1)},wp.api.utils.capitalizeAndCamelCaseDashes=function(b){return _.isUndefined(b)?b:(b=wp.api.utils.capitalize(b),wp.api.utils.camelCaseDashes(b))},wp.api.utils.camelCaseDashes=function(b){return b.replace(/-([a-z])/g,function(c){return c[1].toUpperCase()})},wp.api.utils.extractRoutePart=function(j,i,m,l){var k;return i=i||1,m=m||wp.api.versionString,0===j.indexOf("/"+m)&&(j=j.substr(m.length+1)),k=j.split("/"),l&&(k=k.reverse()),_.isUndefined(k[--i])?"":k[i]},wp.api.utils.extractParentName=function(i){var d,j=i.lastIndexOf("_id>[\\d]+)/");return j<0?"":(d=i.substr(0,j-1),d=d.split("/"),d.pop(),d=d.pop())},wp.api.utils.decorateFromRoute=function(d,c){_.each(d,function(b){_.includes(b.methods,"POST")||_.includes(b.methods,"PUT")?_.isEmpty(b.args)||(_.isEmpty(c.prototype.args)?c.prototype.args=b.args:c.prototype.args=_.extend(c.prototype.args,b.args)):_.includes(b.methods,"GET")&&(_.isEmpty(b.args)||(_.isEmpty(c.prototype.options)?c.prototype.options=b.args:c.prototype.options=_.extend(c.prototype.options,b.args)))})},wp.api.utils.addMixinsAndHelpers=function(D,C,B){var A=!1,z=["date","modified","date_gmt","modified_gmt"],y={setDate:function(i,d){var j=d||"date";return !(_.indexOf(z,j)<0)&&void this.set(j,i.toISOString())},getDate:function(i){var d=i||"date",j=this.get(d);return !(_.indexOf(z,d)<0||_.isNull(j))&&new Date(wp.api.utils.parseISO8601(j))}},x=function(G,F,E,o,n){var m,l,k,j;return j=jQuery.Deferred(),l=G.get("_embedded")||{},_.isNumber(F)&&0!==F?(l[o]&&(k=_.findWhere(l[o],{id:F})),k||(k={id:F}),m=new wp.api.models[E](k),m.get(n)?j.resolve(m):m.fetch({success:function(b){j.resolve(b)},error:function(d,c){j.reject(c)}}),j.promise()):(j.reject(),j)},w=function(I,H,G,F){var E,o,n,m="",l="",i=jQuery.Deferred();return E=I.get("id"),o=I.get("_embedded")||{},_.isNumber(E)&&0!==E?(_.isUndefined(G)||_.isUndefined(o[G])?m={parent:E}:l=_.isUndefined(F)?o[G]:o[G][F],n=new wp.api.collections[H](l,m),_.isUndefined(n.models[0])?n.fetch({success:function(b){v(b,E),i.resolve(b)},error:function(d,c){i.reject(c)}}):(v(n,E),i.resolve(n)),i.promise()):(i.reject(),i)},v=function(d,c){_.each(d.models,function(b){b.set("parent_post",c)})},u={getMeta:function(){return w(this,"PostMeta","https://api.w.org/meta")}},t={getRevisions:function(){return w(this,"PostRevisions")}},s={getTags:function(){var d=this.get("tags"),c=new wp.api.collections.Tags;return _.isEmpty(d)?jQuery.Deferred().resolve([]):c.fetch({data:{include:d}})},setTags:function(j){var i,m,l=this,k=[];return !_.isString(j)&&void (_.isArray(j)?(i=new wp.api.collections.Tags,i.fetch({data:{per_page:100},success:function(a){_.each(j,function(b){m=new wp.api.models.Tag(a.findWhere({slug:b})),m.set("parent_post",l.get("id")),k.push(m)}),j=new wp.api.collections.Tags(k),l.setTagsWithCollection(j)}})):this.setTagsWithCollection(j))},setTagsWithCollection:function(b){return this.set("tags",b.pluck("id")),this.save()}},r={getCategories:function(){var d=this.get("categories"),c=new wp.api.collections.Categories;return _.isEmpty(d)?jQuery.Deferred().resolve([]):c.fetch({data:{include:d}})},setCategories:function(j){var i,m,l=this,k=[];return !_.isString(j)&&void (_.isArray(j)?(i=new wp.api.collections.Categories,i.fetch({data:{per_page:100},success:function(a){_.each(j,function(b){m=new wp.api.models.Category(a.findWhere({slug:b})),m.set("parent_post",l.get("id")),k.push(m)}),j=new wp.api.collections.Categories(k),l.setCategoriesWithCollection(j)}})):this.setCategoriesWithCollection(j))},setCategoriesWithCollection:function(b){return this.set("categories",b.pluck("id")),this.save()}},q={getAuthorUser:function(){return x(this,this.get("author"),"User","author","name")}},p={getFeaturedMedia:function(){return x(this,this.get("featured_media"),"Media","wp:featuredmedia","source_url")}};return _.isUndefined(D.prototype.args)?D:(_.each(z,function(a){_.isUndefined(D.prototype.args[a])||(A=!0)}),A&&(D=D.extend(y)),_.isUndefined(D.prototype.args.author)||(D=D.extend(q)),_.isUndefined(D.prototype.args.featured_media)||(D=D.extend(p)),_.isUndefined(D.prototype.args.categories)||(D=D.extend(r)),_.isUndefined(B.collections[C+"Meta"])||(D=D.extend(u)),_.isUndefined(D.prototype.args.tags)||(D=D.extend(s)),_.isUndefined(B.collections[C+"Revisions"])||(D=D.extend(t)),D)}}(window),function(){var b=window.wpApiSettings||{};wp.api.WPApiBaseModel=Backbone.Model.extend({sync:function(a,h,g){var f;return g=g||{},_.isNull(h.get("date_gmt"))&&h.unset("date_gmt"),_.isEmpty(h.get("slug"))&&h.unset("slug"),_.isUndefined(b.nonce)||_.isNull(b.nonce)||(f=g.beforeSend,g.beforeSend=function(c){if(c.setRequestHeader("X-WP-Nonce",b.nonce),f){return f.apply(this,arguments)}}),this.requireForceForDelete&&"delete"===a&&(h.url=h.url()+"?force=true"),Backbone.sync(a,h,g)},save:function(d,c){return !(!_.includes(this.methods,"PUT")&&!_.includes(this.methods,"POST"))&&Backbone.Model.prototype.save.call(this,d,c)},destroy:function(c){return !!_.includes(this.methods,"DELETE")&&Backbone.Model.prototype.destroy.call(this,c)}}),wp.api.models.Schema=wp.api.WPApiBaseModel.extend({defaults:{_links:{},namespace:null,routes:{}},initialize:function(a,f){var e=this;f=f||{},wp.api.WPApiBaseModel.prototype.initialize.call(e,a,f),e.apiRoot=f.apiRoot||b.root,e.versionString=f.versionString||b.versionString},url:function(){return this.apiRoot+this.versionString}})}(),function(){var b=window.wpApiSettings||{};wp.api.WPApiBaseCollection=Backbone.Collection.extend({initialize:function(d,c){this.state={data:{},currentPage:null,totalPages:null,totalObjects:null},_.isUndefined(c)?this.parent="":this.parent=c.parent},sync:function(a,l,k){var j,i,h=this;return k=k||{},j=k.beforeSend,"undefined"!=typeof b.nonce&&(k.beforeSend=function(c){if(c.setRequestHeader("X-WP-Nonce",b.nonce),j){return j.apply(h,arguments)}}),"read"===a&&(k.data?(h.state.data=_.clone(k.data),delete h.state.data.page):h.state.data=k.data={},"undefined"==typeof k.data.page?(h.state.currentPage=null,h.state.totalPages=null,h.state.totalObjects=null):h.state.currentPage=k.data.page-1,i=k.success,k.success=function(e,d,f){if(_.isUndefined(f)||(h.state.totalPages=parseInt(f.getResponseHeader("x-wp-totalpages"),10),h.state.totalObjects=parseInt(f.getResponseHeader("x-wp-total"),10)),null===h.state.currentPage?h.state.currentPage=1:h.state.currentPage++,i){return i.apply(this,arguments)}}),Backbone.sync(a,l,k)},more:function(c){if(c=c||{},c.data=c.data||{},_.extend(c.data,this.state.data),"undefined"==typeof c.data.page){if(!this.hasMore()){return !1}null===this.state.currentPage||this.state.currentPage<=1?c.data.page=2:c.data.page=this.state.currentPage+1}return this.fetch(c)},hasMore:function(){return null===this.state.totalPages||null===this.state.totalObjects||null===this.state.currentPage?null:this.state.currentPage<this.state.totalPages}})}(),function(){var e,d={},f=window.wpApiSettings||{};window.wp=window.wp||{},wp.api=wp.api||{},_.isEmpty(f)&&(f.root=window.location.origin+"/wp-json/"),e=Backbone.Model.extend({defaults:{apiRoot:f.root,versionString:wp.api.versionString,schema:null,models:{},collections:{}},initialize:function(){var g,c=this;Backbone.Model.prototype.initialize.apply(c,arguments),g=jQuery.Deferred(),c.schemaConstructed=g.promise(),c.schemaModel=new wp.api.models.Schema(null,{apiRoot:c.get("apiRoot"),versionString:c.get("versionString")}),c.schemaModel.once("change",function(){c.constructFromSchema(),g.resolve(c)}),c.get("schema")?c.schemaModel.set(c.schemaModel.parse(c.get("schema"))):!_.isUndefined(sessionStorage)&&(_.isUndefined(f.cacheSchema)||f.cacheSchema)&&sessionStorage.getItem("wp-api-schema-model"+c.get("apiRoot")+c.get("versionString"))?c.schemaModel.set(c.schemaModel.parse(JSON.parse(sessionStorage.getItem("wp-api-schema-model"+c.get("apiRoot")+c.get("versionString"))))):c.schemaModel.fetch({success:function(b){if(!_.isUndefined(sessionStorage)&&(_.isUndefined(f.cacheSchema)||f.cacheSchema)){try{sessionStorage.setItem("wp-api-schema-model"+c.get("apiRoot")+c.get("versionString"),JSON.stringify(b))}catch(h){}}},error:function(b){window.console.log(b)}})},constructFromSchema:function(){var h,c,l,k,j=this,i=f.mapping||{models:{Categories:"Category",Comments:"Comment",Pages:"Page",PagesMeta:"PageMeta",PagesRevisions:"PageRevision",Posts:"Post",PostsCategories:"PostCategory",PostsRevisions:"PostRevision",PostsTags:"PostTag",Schema:"Schema",Statuses:"Status",Tags:"Tag",Taxonomies:"Taxonomy",Types:"Type",Users:"User"},collections:{PagesMeta:"PageMeta",PagesRevisions:"PageRevisions",PostsCategories:"PostCategories",PostsMeta:"PostMeta",PostsRevisions:"PostRevisions",PostsTags:"PostTags"}};h=[],c=[],l=j.get("apiRoot").replace(wp.api.utils.getRootUrl(),""),k={},k.models={},k.collections={},_.each(j.schemaModel.get("routes"),function(b,a){a!==j.get(" versionString")&&a!==l&&a!=="/"+j.get("versionString").slice(0,-1)&&(/(?:.*[+)]|\/me)$/.test(a)?h.push({index:a,route:b}):c.push({index:a,route:b}))}),_.each(h,function(m){var g,p=wp.api.utils.extractRoutePart(m.index,2,j.get("versionString"),!0),o=wp.api.utils.extractRoutePart(m.index,1,j.get("versionString"),!1),n=wp.api.utils.extractRoutePart(m.index,1,j.get("versionString"),!0);o===j.get("versionString")&&(o=""),"me"===n&&(p="me"),""!==o&&o!==p?(g=wp.api.utils.capitalizeAndCamelCaseDashes(o)+wp.api.utils.capitalizeAndCamelCaseDashes(p),g=i.models[g]||g,k.models[g]=wp.api.WPApiBaseModel.extend({url:function(){var b=j.get("apiRoot")+j.get("versionString")+o+"/"+(_.isUndefined(this.get("parent"))||0===this.get("parent")?_.isUndefined(this.get("parent_post"))?"":this.get("parent_post")+"/":this.get("parent")+"/")+p;return _.isUndefined(this.get("id"))||(b+="/"+this.get("id")),b},route:m,name:g,methods:m.route.methods,initialize:function(r,q){wp.api.WPApiBaseModel.prototype.initialize.call(this,r,q),"Posts"!==this.name&&"Pages"!==this.name&&_.includes(this.methods,"DELETE")&&(this.requireForceForDelete=!0)}})):(g=wp.api.utils.capitalizeAndCamelCaseDashes(p),g=i.models[g]||g,k.models[g]=wp.api.WPApiBaseModel.extend({url:function(){var b=j.get("apiRoot")+j.get("versionString")+("me"===p?"users/me":p);return _.isUndefined(this.get("id"))||(b+="/"+this.get("id")),b},route:m,name:g,methods:m.route.methods})),wp.api.utils.decorateFromRoute(m.route.endpoints,k.models[g],j.get("versionString"))}),_.each(c,function(m){var g,p,o=m.index.slice(m.index.lastIndexOf("/")+1),n=wp.api.utils.extractRoutePart(m.index,1,j.get("versionString"),!1);""!==n&&n!==o&&j.get("versionString")!==n?(g=wp.api.utils.capitalizeAndCamelCaseDashes(n)+wp.api.utils.capitalizeAndCamelCaseDashes(o),p=i.models[g]||g,g=i.collections[g]||g,k.collections[g]=wp.api.WPApiBaseCollection.extend({url:function(){return j.get("apiRoot")+j.get("versionString")+n+"/"+this.parent+"/"+o},model:function(r,q){return new k.models[p](r,q)},name:g,route:m,methods:m.route.methods})):(g=wp.api.utils.capitalizeAndCamelCaseDashes(o),p=i.models[g]||g,g=i.collections[g]||g,k.collections[g]=wp.api.WPApiBaseCollection.extend({url:function(){return j.get("apiRoot")+j.get("versionString")+o},model:function(r,q){return new k.models[p](r,q)},name:g,route:m,methods:m.route.methods})),wp.api.utils.decorateFromRoute(m.route.endpoints,k.collections[g])}),_.each(k.models,function(m,g){k.models[g]=wp.api.utils.addMixinsAndHelpers(m,g,k)}),j.set("models",k.models),j.set("collections",k.collections)}}),wp.api.endpoints=new Backbone.Collection,wp.api.init=function(j){var i,c,b,a={};return j=j||{},a.apiRoot=j.apiRoot||f.root||"/wp-json",a.versionString=j.versionString||f.versionString||"wp/v2/",a.schema=j.schema||null,a.schema||a.apiRoot!==f.root||a.versionString!==f.versionString||(a.schema=f.schema),d[a.apiRoot+a.versionString]||(i=wp.api.endpoints.findWhere({apiRoot:a.apiRoot,versionString:a.versionString}),i||(i=new e(a)),c=jQuery.Deferred(),b=c.promise(),i.schemaConstructed.done(function(g){wp.api.endpoints.add(g),wp.api.models=_.extend(wp.api.models,g.get("models")),wp.api.collections=_.extend(wp.api.collections,g.get("collections")),c.resolve(g)}),d[a.apiRoot+a.versionString]=b),d[a.apiRoot+a.versionString]},wp.api.loadPromise=wp.api.init()}();