/*!
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],b):b(jQuery)}(function(b){return b.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(c){c.preventDefault()},"click .ui-menu-item":function(a){var d=b(a.target);!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&b(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var d=b(a.currentTarget);d.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(a,d)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,d){var f=this.active||this.element.find(this.options.items).eq(0);d||this.focus(e,f)},blur:function(a){this._delay(function(){b.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(c){this._closeOnDocumentClick(c)&&this.collapseAll(c),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=b(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){var l,k,j,i,h=!0;switch(a.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(a);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case b.ui.keyCode.HOME:this._move("first","first",a);break;case b.ui.keyCode.END:this._move("last","last",a);break;case b.ui.keyCode.UP:this.previous(a);break;case b.ui.keyCode.DOWN:this.next(a);break;case b.ui.keyCode.LEFT:this.collapse(a);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(a);break;case b.ui.keyCode.ESCAPE:this.collapse(a);break;default:h=!1,k=this.previousFilter||"",j=String.fromCharCode(a.keyCode),i=!1,clearTimeout(this.filterTimer),j===k?i=!0:j=k+j,l=this._filterMenuItems(j),l=i&&l.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):l,l.length||(j=String.fromCharCode(a.keyCode),l=this._filterMenuItems(j)),l.length?(this.focus(a,l),this.previousFilter=j,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter}h&&a.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(c):this.select(c))},refresh:function(){var a,j,i=this,h=this.options.icons.submenu,g=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),g.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=b(this),k=e.parent(),f=b("<span>").addClass("ui-menu-icon ui-icon "+h).data("ui-menu-submenu-carat",!0);k.attr("aria-haspopup","true").prepend(f),e.attr("aria-labelledby",k.attr("id"))}),a=g.add(this.element),j=a.find(this.options.items),j.not(".ui-menu-item").each(function(){var c=b(this);i._isDivider(c)&&c.addClass("ui-widget-content ui-menu-divider")}),j.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),j.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(d,c){"icons"===d&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu),"disabled"===d&&this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c),this._super(d,c)},focus:function(f,e){var h,g;this.blur(f,f&&"focus"===f.type),this._scrollIntoView(e),this.active=e.first(),g=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",g.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),f&&"keydown"===f.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),h=e.children(".ui-menu"),h.length&&f&&/^mouse/.test(f.type)&&this._startOpening(h),this.activeMenu=e.parent(),this._trigger("focus",f,{item:e})},_scrollIntoView:function(a){var n,m,l,k,j,i;this._hasScroll()&&(n=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,m=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,l=a.offset().top-this.activeMenu.offset().top-n-m,k=this.activeMenu.scrollTop(),j=this.activeMenu.height(),i=a.outerHeight(),l<0?this.activeMenu.scrollTop(k+l):l+i>j&&this.activeMenu.scrollTop(k+l-j+i))},blur:function(d,c){c||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",d,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer),"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(c)},this.delay))},_open:function(a){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(a,d){clearTimeout(this.timer),this.timer=this._delay(function(){var c=d?this.element:b(a&&a.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(a),this.activeMenu=c},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element),c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return !b(a.target).closest(".ui-menu").length},_isDivider:function(c){return !/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(d){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(d,c))},expand:function(d){var c=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(d,c)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,e,h){var g;this.active&&(g="first"===f||"last"===f?this.active["first"===f?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[f+"All"](".ui-menu-item").eq(0)),g&&g.length&&this.active||(g=this.activeMenu.find(this.options.items)[e]()),this.focus(h,g)},nextPage:function(a){var h,g,f;return this.active?void (this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return h=b(this),h.offset().top-g-f<0}),this.focus(a,h)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(a)},previousPage:function(a){var h,g,f;return this.active?void (this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return h=b(this),h.offset().top-g+f>0}),this.focus(a,h)):this.focus(a,this.activeMenu.find(this.options.items).first()))):void this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||b(a.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,d)},_filterMenuItems:function(a){var f=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),e=new RegExp("^"+f,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(b.trim(b(this).text()))})}})});