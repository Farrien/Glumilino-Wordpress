/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],b):b(jQuery)}(function(d){function c(b){return function(){var a=this.element.val();b.apply(this,arguments),this._refresh(),a!==this.element.val()&&this._trigger("change")}}return d.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},e=this.element;return d.each(["min","max","step"],function(b,g){var f=e.attr(g);void 0!==f&&f.length&&(a[g]=f)}),a},_events:{keydown:function(b){this._start(b)&&this._keydown(b)&&b.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(b){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void (this.previous!==this.element.val()&&this._trigger("change",b)))},mousewheel:function(f,e){if(e){if(!this.spinning&&!this._start(f)){return !1}this._spin((e>0?1:-1)*this.options.step,f),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(f)},100),f.preventDefault()}},"mousedown .ui-spinner-button":function(a){function f(){var b=this.element[0]===this.document[0].activeElement;b||(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e}))}var e;e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),a.preventDefault(),f.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,f.call(this)}),this._start(a)!==!1&&this._repeat(null,d(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){if(d(a.currentTarget).hasClass("ui-state-active")){return this._start(a)!==!1&&void this._repeat(null,d(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var b=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=b.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*b.height())&&b.height()>0&&b.height(b.height()),this.options.disabled&&this.disable()},_keydown:function(a){var f=this.options,e=d.ui.keyCode;switch(a.keyCode){case e.UP:return this._repeat(null,1,a),!0;case e.DOWN:return this._repeat(null,-1,a),!0;case e.PAGE_UP:return this._repeat(null,f.page,a),!0;case e.PAGE_DOWN:return this._repeat(null,-f.page,a),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(b){return !(!this.spinning&&this._trigger("start",b)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(f,e,g){f=f||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,g)},f),this._spin(e*this.options.step,g)},_spin:function(f,e){var g=this.value()||0;this.counter||(this.counter=1),g=this._adjustValue(g+f*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:g})===!1||(this._value(g),this.counter++)},_increment:function(a){var e=this.options.incremental;return e?d.isFunction(e)?e(a):Math.floor(a*a*a/50000-a*a/500+17*a/200+1):1},_precision:function(){var b=this._precisionOf(this.options.step);return null!==this.options.min&&(b=Math.max(b,this._precisionOf(this.options.min))),b},_precisionOf:function(f){var e=f.toString(),g=e.indexOf(".");return g===-1?0:e.length-g-1},_adjustValue:function(f){var e,h,g=this.options;return e=null!==g.min?g.min:0,h=f-e,h=Math.round(h/g.step)*g.step,f=e+h,f=parseFloat(f.toFixed(this._precision())),null!==g.max&&f>g.max?g.max:null!==g.min&&f<g.min?g.min:f},_stop:function(b){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",b))},_setOption:function(f,e){if("culture"===f||"numberFormat"===f){var g=this._parse(this.element.val());return this.options[f]=e,void this.element.val(this._format(g))}"max"!==f&&"min"!==f&&"step"!==f||"string"==typeof e&&(e=this._parse(e)),"icons"===f&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(f,e),"disabled"===f&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:c(function(b){this._super(b)}),_parse:function(b){return"string"==typeof b&&""!==b&&(b=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(b,10,this.options.culture):+b),""===b||isNaN(b)?null:b},_format:function(b){return""===b?"":window.Globalize&&this.options.numberFormat?Globalize.format(b,this.options.numberFormat,this.options.culture):b},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var b=this.value();return null!==b&&b===this._adjustValue(b)},_value:function(f,e){var g;""!==f&&(g=this._parse(f),null!==g&&(e||(g=this._adjustValue(g)),f=this._format(g))),this.element.val(f),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:c(function(b){this._stepUp(b)}),_stepUp:function(b){this._start()&&(this._spin((b||1)*this.options.step),this._stop())},stepDown:c(function(b){this._stepDown(b)}),_stepDown:function(b){this._start()&&(this._spin((b||1)*-this.options.step),this._stop())},pageUp:c(function(b){this._stepUp((b||1)*this.options.page)}),pageDown:c(function(b){this._stepDown((b||1)*this.options.page)}),value:function(b){return arguments.length?void c(this._value).call(this,b):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})});