(function(b){this.version="(beta)(0.0.3)";this.all={};this.special_keys={27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};this.shift_nums={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};this.add=function(n,a,i){if(b.isFunction(a)){i=a;a={}}var m={},k={type:"keydown",propagate:false,disableInInput:false,target:b("html")[0]},l=this;m=b.extend(m,k,a||{});n=n.toLowerCase();var j=function(z){var f=z.target;if(m.disableInInput){var F=b(f);if((F.is("input")||F.is("textarea"))&&(!m.noDisable||!F.is(m.noDisable))){return}}var x=z.which,D=z.type,c=String.fromCharCode(x).toLowerCase(),E=l.special_keys[x],h=z.shiftKey,A=z.ctrlKey,e=z.altKey,B=z.metaKey,d=true,y=null;while(!l.all[f]&&f.parentNode){f=f.parentNode}var C=l.all[f].events[D].callbackMap;if(!h&&!A&&!e&&!B){y=C[E]||C[c]}else{var g="";if(e){g+="alt+"}if(A){g+="ctrl+"}if(h){g+="shift+"}if(B){g+="meta+"}y=C[g+E]||C[g+c]||C[g+l.shift_nums[c]]}if(y){y.cb(z);if(!y.propagate){z.stopPropagation();z.preventDefault();return false}}};if(!this.all[m.target]){this.all[m.target]={events:{}}}if(!this.all[m.target].events[m.type]){this.all[m.target].events[m.type]={callbackMap:{}};b.event.add(m.target,m.type,j)}this.all[m.target].events[m.type].callbackMap[n]={cb:i,propagate:m.propagate};return b};this.remove=function(d,a){a=a||{};target=a.target||b("html")[0];type=a.type||"keydown";d=d.toLowerCase();delete this.all[target].events[type].callbackMap[d];return b};b.hotkeys=this;return b})(jQuery);