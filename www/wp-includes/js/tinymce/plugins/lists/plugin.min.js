(function(){var d={};var a=function(p){var n=i(p);var l=p.split(".");var o=Function("return this;")();for(var m=0;m<l.length-1;++m){if(o[l[m]]===undefined){o[l[m]]={}}o=o[l[m]]}o[l[l.length-1]]=n};var k=function(s){var r=d[s];var p=r.deps;var n=r.defn;var l=p.length;var q=new Array(l);for(var m=0;m<l;++m){q[m]=i(p[m])}var o=n.apply(null,q);if(o===undefined){throw"module ["+s+"] returned undefined"}r.instance=o};var b=function(n,m,l){if(typeof n!=="string"){throw"module id must be a string"}else{if(m===undefined){throw"no dependencies for "+n}else{if(l===undefined){throw"no definition function for "+n}}}d[n]={deps:m,defn:l,instance:undefined}};var i=function(m){var l=d[m];if(l===undefined){throw"module ["+m+"] was undefined"}else{if(l.instance===undefined){k(m)}}return l.instance};var g=function(n,p){var l=n.length;var o=new Array(l);for(var m=0;m<l;++m){o.push(i(n[m]))}p.apply(null,p)};var h={};h.bolt={module:{api:{define:b,require:g,demand:i}}};var e=b;var c=g;var j=i;var f=function(m,l){e(m,[],function(){return l})};f("global!tinymce.PluginManager",tinymce.PluginManager);f("global!tinymce.util.Tools",tinymce.util.Tools);f("global!tinymce.util.VK",tinymce.util.VK);e("tinymce.lists.core.NodeType",[],function(){var l=function(v){return v&&v.nodeType===3};var m=function(v){return v&&(/^(OL|UL|DL)$/).test(v.nodeName)};var s=function(v){return v&&/^(LI|DT|DD)$/.test(v.nodeName)};var r=function(v){return v&&v.nodeName==="BR"};var p=function(v){return v.parentNode.firstChild===v};var n=function(v){return v.parentNode.lastChild===v};var u=function(v,w){return w&&!!v.schema.getTextBlockElements()[w.nodeName]};var o=function(w,v){if(!r(v)){return false}if(w.isBlock(v.nextSibling)&&!r(v.previousSibling)){return true}return false};var q=function(x,y,w){var v=x.isEmpty(y);if(w&&x.select("span[data-mce-type=bookmark]",y).length>0){return false}return v};var t=function(v,w){return v.isChildOf(w,v.getRoot())};return{isTextNode:l,isListNode:m,isListItemNode:s,isBr:r,isFirstChild:p,isLastChild:n,isTextBlock:u,isBogusBr:o,isEmpty:q,isChildOfBody:t}});f("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);f("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);e("tinymce.lists.core.Selection",["global!tinymce.util.Tools","tinymce.lists.core.NodeType"],function(m,l){var n=function(o){return m.grep(o.selection.getSelectedBlocks(),function(p){return l.isListItemNode(p)})};return{getSelectedListItems:n}});f("global!tinymce.dom.DOMUtils.DOM",tinymce.dom.DOMUtils.DOM);e("tinymce.lists.core.Range",["global!tinymce.dom.RangeUtils","tinymce.lists.core.NodeType"],function(n,l){var m=function(p,r){var q=n.getNode(p,r);if(l.isListItemNode(p)&&l.isTextNode(q)){var s=r>=p.childNodes.length?q.data.length:0;return{container:q,offset:s}}return{container:p,offset:r}};var o=function(q){var p=q.cloneRange();var s=m(q.startContainer,q.startOffset);p.setStart(s.container,s.offset);var r=m(q.endContainer,q.endOffset);p.setEnd(r.container,r.offset);return p};return{getNormalizedEndPoint:m,normalizeRange:o}});e("tinymce.lists.core.Bookmark",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Range"],function(n,m,p){var o=function(q){var r={};var s=function(w){var u,t,v;t=q[w?"startContainer":"endContainer"];v=q[w?"startOffset":"endOffset"];if(t.nodeType===1){u=n.create("span",{"data-mce-type":"bookmark"});if(t.hasChildNodes()){v=Math.min(v,t.childNodes.length-1);if(w){t.insertBefore(u,t.childNodes[v])}else{n.insertAfter(u,t.childNodes[v])}}else{t.appendChild(u)}t=u;v=0}r[w?"startContainer":"endContainer"]=t;r[w?"startOffset":"endOffset"]=v};s(true);if(!q.collapsed){s()}return r};var l=function(r){function s(x){var t,v,u;var w=function(z){var A=z.parentNode.firstChild,y=0;while(A){if(A===z){return y}if(A.nodeType!==1||A.getAttribute("data-mce-type")!=="bookmark"){y++}A=A.nextSibling}return -1};t=u=r[x?"startContainer":"endContainer"];v=r[x?"startOffset":"endOffset"];if(!t){return}if(t.nodeType===1){v=w(t);t=t.parentNode;n.remove(u)}r[x?"startContainer":"endContainer"]=t;r[x?"startOffset":"endOffset"]=v}s(true);s();var q=n.createRng();q.setStart(r.startContainer,r.startOffset);if(r.endContainer){q.setEnd(r.endContainer,r.endOffset)}return p.normalizeRange(q)};return{createBookmark:o,resolveBookmark:l}});e("tinymce.lists.core.NormalizeLists",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.util.Tools","tinymce.lists.core.NodeType"],function(p,n,l){var m=function(t,r){var s,q=r.parentNode;if(q.nodeName==="LI"&&q.firstChild===r){s=q.previousSibling;if(s&&s.nodeName==="LI"){s.appendChild(r);if(l.isEmpty(t,q)){p.remove(q)}}else{p.setStyle(q,"listStyleType","none")}}if(l.isListNode(q)){s=q.previousSibling;if(s&&s.nodeName==="LI"){s.appendChild(r)}}};var o=function(r,q){n.each(n.grep(r.select("ol,ul",q)),function(s){m(r,s)})};return{normalizeList:m,normalizeLists:o}});f("global!tinymce.dom.BookmarkManager",tinymce.dom.BookmarkManager);f("global!tinymce.Env",tinymce.Env);e("tinymce.lists.core.TextBlock",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.Env"],function(m,l){var n=function(q,p,t){var o,v,s=m.createFragment(),r;var w=q.schema.getBlockElements();if(q.settings.forced_root_block){t=t||q.settings.forced_root_block}if(t){v=m.create(t);if(v.tagName===q.settings.forced_root_block){m.setAttribs(v,q.settings.forced_root_block_attrs)}s.appendChild(v)}if(p){while((o=p.firstChild)){var u=o.nodeName;if(!r&&(u!=="SPAN"||o.getAttribute("data-mce-type")!=="bookmark")){r=true}if(w[u]){s.appendChild(o);v=null}else{if(t){if(!v){v=m.create(t);s.appendChild(v)}v.appendChild(o)}else{s.appendChild(o)}}}}if(!q.settings.forced_root_block){s.appendChild(m.create("br"))}else{if(!r&&(!l.ie||l.ie>10)){v.appendChild(m.create("br",{"data-mce-bogus":"1"}))}}return s};return{createNewTextBlock:n}});e("tinymce.lists.core.SplitList",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.util.Tools","tinymce.lists.core.TextBlock","tinymce.lists.core.NodeType"],function(p,o,n,m){var l=function(t,u,x,w){var y,v,q,r;var s=function(z){o.each(q,function(A){z.parentNode.insertBefore(A,x.parentNode)});p.remove(z)};q=p.select('span[data-mce-type="bookmark"]',u);w=w||n.createNewTextBlock(t,x);y=p.createRng();y.setStartAfter(x);y.setEndAfter(u);v=y.extractContents();for(r=v.firstChild;r;r=r.firstChild){if(r.nodeName==="LI"&&t.dom.isEmpty(r)){p.remove(r);break}}if(!t.dom.isEmpty(v)){p.insertAfter(v,u)}p.insertAfter(w,u);if(m.isEmpty(t.dom,x.parentNode)){s(x.parentNode)}p.remove(x);if(m.isEmpty(t.dom,u)){p.remove(u)}};return{splitList:l}});e("tinymce.lists.actions.Outdent",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Selection","tinymce.lists.core.SplitList","tinymce.lists.core.NormalizeLists","tinymce.lists.core.TextBlock"],function(s,m,n,u,q,o,l){var t=function(w,v){if(m.isEmpty(w,v)){s.remove(v)}};var r=function(y,w){var x=w.parentNode,v=x.parentNode,z;if(x===y.getBody()){return true}if(w.nodeName==="DD"){s.rename(w,"DT");return true}if(m.isFirstChild(w)&&m.isLastChild(w)){if(v.nodeName==="LI"){s.insertAfter(w,v);t(y.dom,v);s.remove(x)}else{if(m.isListNode(v)){s.remove(x,true)}else{v.insertBefore(l.createNewTextBlock(y,w),x);s.remove(x)}}return true}else{if(m.isFirstChild(w)){if(v.nodeName==="LI"){s.insertAfter(w,v);w.appendChild(x);t(y.dom,v)}else{if(m.isListNode(v)){v.insertBefore(w,x)}else{v.insertBefore(l.createNewTextBlock(y,w),x);s.remove(w)}}return true}else{if(m.isLastChild(w)){if(v.nodeName==="LI"){s.insertAfter(w,v)}else{if(m.isListNode(v)){s.insertAfter(w,x)}else{s.insertAfter(l.createNewTextBlock(y,w),x);s.remove(w)}}return true}}}if(v.nodeName==="LI"){x=v;z=l.createNewTextBlock(y,w,"LI")}else{if(m.isListNode(v)){z=l.createNewTextBlock(y,w,"LI")}else{z=l.createNewTextBlock(y,w)}}q.splitList(y,x,w,z);o.normalizeLists(y.dom,x.parentNode);return true};var p=function(A){var x=u.getSelectedListItems(A);if(x.length){var z=n.createBookmark(A.selection.getRng(true));var w,C,v=A.getBody();w=x.length;while(w--){var B=x[w].parentNode;while(B&&B!==v){C=x.length;while(C--){if(x[C]===B){x.splice(w,1);break}}B=B.parentNode}}for(w=0;w<x.length;w++){if(!r(A,x[w])&&w===0){break}}A.selection.setRng(n.resolveBookmark(z));A.nodeChanged();return true}};return{outdent:r,outdentSelection:p}});e("tinymce.lists.actions.ToggleList",["global!tinymce.util.Tools","global!tinymce.dom.BookmarkManager","tinymce.lists.core.Selection","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.SplitList","tinymce.lists.core.NormalizeLists","tinymce.lists.actions.Outdent"],function(m,p,o,q,t,C,w,n){var u=function(K,J,I){var H=I["list-style-type"]?I["list-style-type"]:null;K.setStyle(J,"list-style-type",H)};var x=function(I,H){m.each(H,function(K,J){I.setAttribute(J,K)})};var s=function(J,I,H){x(I,H["list-attributes"]);m.each(J.select("li",I),function(K){x(K,H["list-item-attributes"])})};var G=function(J,I,H){u(J,I,H);s(J,I,H)};var E=function(K,J,M){var I,L,H=K.getBody();I=J[M?"startContainer":"endContainer"];L=J[M?"startOffset":"endOffset"];if(I.nodeType===1){I=I.childNodes[Math.min(L,I.childNodes.length-1)]||I}while(I.parentNode!==H){if(q.isTextBlock(K,I)){return I}if(/^(TD|TH)$/.test(I.parentNode.nodeName)){return I}I=I.parentNode}return I};var l=function(N,H){var Q=[],O=N.getBody(),L=N.dom;var I=E(N,H,true);var M=E(N,H,false);var K,P=[];for(var J=I;J;J=J.nextSibling){P.push(J);if(J===M){break}}m.each(P,function(R){if(q.isTextBlock(N,R)){Q.push(R);K=null;return}if(L.isBlock(R)||q.isBr(R)){if(q.isBr(R)){L.remove(R)}K=null;return}var S=R.nextSibling;if(p.isBookmarkNode(R)){if(q.isTextBlock(N,S)||(!S&&R.parentNode===O)){K=null;return}}if(!K){K=L.create("p");R.parentNode.insertBefore(K,R);Q.push(K)}K.appendChild(R)});return Q};var B=function(M,I,L){var H=M.selection.getRng(true),K,J="LI";var N=M.dom;L=L?L:{};if(N.getContentEditable(M.selection.getNode())==="false"){return}I=I.toUpperCase();if(I==="DL"){J="DT"}K=t.createBookmark(H);m.each(l(M,H),function(R){var P,Q;var O=function(S){var T=N.getStyle(S,"list-style-type");var U=L?L["list-style-type"]:"";U=U===null?"":U;return T===U};Q=R.previousSibling;if(Q&&q.isListNode(Q)&&Q.nodeName===I&&O(Q)){P=Q;R=N.rename(R,J);Q.appendChild(R)}else{P=N.create(I);R.parentNode.insertBefore(P,R);P.appendChild(R);R=N.rename(R,J)}G(N,P,L);F(M.dom,P)});M.selection.setRng(t.resolveBookmark(K))};var D=function(K){var J=t.createBookmark(K.selection.getRng(true)),I=K.getBody();var L=o.getSelectedListItems(K);var H=m.grep(L,function(M){return K.dom.isEmpty(M)});L=m.grep(L,function(M){return !K.dom.isEmpty(M)});m.each(H,function(M){if(q.isEmpty(K.dom,M)){n.outdent(K,M);return}});m.each(L,function(M){var O,N;if(M.parentNode===K.getBody()){return}for(O=M;O&&O!==I;O=O.parentNode){if(q.isListNode(O)){N=O}}C.splitList(K,N,M);w.normalizeLists(K.dom,N.parentNode)});K.selection.setRng(t.resolveBookmark(J))};var v=function(H,I){return H&&I&&q.isListNode(H)&&H.nodeName===I.nodeName};var z=function(K,H,L){var I=K.getStyle(H,"list-style-type",true);var J=K.getStyle(L,"list-style-type",true);return I===J};var A=function(I,H){return I.className===H.className};var y=function(I,H,J){return v(H,J)&&z(I,H,J)&&A(H,J)};var F=function(K,H){var I,J;I=H.nextSibling;if(y(K,H,I)){while((J=I.firstChild)){H.appendChild(J)}K.remove(I)}I=H.previousSibling;if(y(K,H,I)){while((J=I.lastChild)){H.insertBefore(J,H.firstChild)}K.remove(I)}};var r=function(L,I,K){var H=L.dom.getParent(L.selection.getStart(),"OL,UL,DL");K=K?K:{};if(H===L.getBody()){return}if(H){if(H.nodeName===I){D(L,I)}else{var J=t.createBookmark(L.selection.getRng(true));G(L.dom,H,K);F(L.dom,L.dom.rename(H,I));L.selection.setRng(t.resolveBookmark(J))}}else{B(L,I,K)}};return{toggleList:r,removeList:D,mergeWithAdjacentLists:F}});e("tinymce.lists.core.Delete",["global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils","global!tinymce.util.VK","tinymce.lists.core.Selection","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Range","tinymce.lists.core.NormalizeLists","tinymce.lists.actions.ToggleList"],function(x,v,y,B,l,r,p,s,o){var A=function(E,D,G){var F=D.startContainer,I=D.startOffset;var C,H;if(F.nodeType===3&&(G?I<F.data.length:I>0)){return F}C=E.schema.getNonEmptyElements();if(F.nodeType===1){F=v.getNode(F,I)}H=new x(F,E.getBody());if(G){if(l.isBogusBr(E.dom,F)){H.next()}}while((F=H[G?"next":"prev2"]())){if(F.nodeName==="LI"&&!F.hasChildNodes()){return F}if(C[F.nodeName]){return F}if(F.nodeType===3&&F.data.length>0){return F}}};var w=function(H,D,G){var F,E,C=D.parentNode;if(!l.isChildOfBody(H,D)||!l.isChildOfBody(H,G)){return}if(l.isListNode(G.lastChild)){E=G.lastChild}if(C===G.lastChild){if(l.isBr(C.previousSibling)){H.remove(C.previousSibling)}}F=G.lastChild;if(F&&l.isBr(F)&&D.hasChildNodes()){H.remove(F)}if(l.isEmpty(H,G,true)){H.$(G).empty()}if(!l.isEmpty(H,D,true)){while((F=D.firstChild)){G.appendChild(F)}}if(E){G.appendChild(E)}H.remove(D);if(l.isEmpty(H,C)&&C!==H.getRoot()){H.remove(C)}};var n=function(F,K){var E=F.dom,I=F.selection;var J=E.getParent(I.getStart(),"LI"),H,C,D;if(J){H=J.parentNode;if(H===F.getBody()&&l.isEmpty(E,H)){return true}C=p.normalizeRange(I.getRng(true));D=E.getParent(A(F,C,K),"LI");if(D&&D!==J){var G=r.createBookmark(C);if(K){w(E,D,J)}else{w(E,J,D)}F.selection.setRng(r.resolveBookmark(G));return true}else{if(!D){if(!K&&o.removeList(F,H.nodeName)){return true}}}}return false};var u=function(E,F){var H=E.dom;var G=H.getParent(E.selection.getStart(),H.isBlock);if(G&&H.isEmpty(G)){var D=p.normalizeRange(E.selection.getRng(true));var C=H.getParent(A(E,D,F),"LI");if(C){E.undoManager.transact(function(){H.remove(G);o.mergeWithAdjacentLists(H,C.parentNode);E.selection.select(C,true);E.selection.collapse(F)});return true}}return false};var m=function(C,D){return n(C,D)||u(C,D)};var z=function(C){var D=C.dom.getParent(C.selection.getStart(),"LI,DT,DD");if(D||B.getSelectedListItems(C).length>0){C.undoManager.transact(function(){C.execCommand("Delete");s.normalizeLists(C.dom,C.getBody())});return true}return false};var t=function(C,D){return C.selection.isCollapsed()?m(C,D):z(C)};var q=function(C){C.on("keydown",function(D){if(D.keyCode===y.BACKSPACE){if(t(C,false)){D.preventDefault()}}else{if(D.keyCode===y.DELETE){if(t(C,true)){D.preventDefault()}}}})};return{setup:q,backspaceDelete:t}});e("tinymce.lists.actions.Indent",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Selection"],function(q,n,p,o){var r=function(u,t){var s;if(n.isListNode(u)){while((s=u.firstChild)){t.appendChild(s)}q.remove(u)}};var l=function(s){var u,t,v;if(s.nodeName==="DT"){q.rename(s,"DD");return true}u=s.previousSibling;if(u&&n.isListNode(u)){u.appendChild(s);return true}if(u&&u.nodeName==="LI"&&n.isListNode(u.lastChild)){u.lastChild.appendChild(s);r(s.lastChild,u.lastChild);return true}u=s.nextSibling;if(u&&n.isListNode(u)){u.insertBefore(s,u.firstChild);return true}u=s.previousSibling;if(u&&u.nodeName==="LI"){t=q.create(s.parentNode.nodeName);v=q.getStyle(s.parentNode,"listStyleType");if(v){q.setStyle(t,"listStyleType",v)}u.appendChild(t);t.appendChild(s);r(s.lastChild,t);return true}return false};var m=function(v){var t=o.getSelectedListItems(v);if(t.length){var u=p.createBookmark(v.selection.getRng(true));for(var s=0;s<t.length;s++){if(!l(t[s])&&s===0){break}}v.selection.setRng(p.resolveBookmark(u));v.nodeChanged();return true}};return{indentSelection:m}});e("tinymce.lists.Plugin",["global!tinymce.PluginManager","global!tinymce.util.Tools","global!tinymce.util.VK","tinymce.lists.core.NodeType","tinymce.lists.core.Delete","tinymce.lists.actions.Indent","tinymce.lists.actions.Outdent","tinymce.lists.actions.ToggleList"],function(s,q,v,n,x,t,p,o){var r=function(z,y){return function(){var A=z.dom.getParent(z.selection.getStart(),"UL,OL,DL");return A&&A.nodeName===y}};var u=function(y){y.on("BeforeExecCommand",function(B){var A=B.command.toLowerCase(),z;if(A==="indent"){if(t.indentSelection(y)){z=true}}else{if(A==="outdent"){if(p.outdentSelection(y)){z=true}}}if(z){y.fire("ExecCommand",{command:B.command});B.preventDefault();return true}});y.addCommand("InsertUnorderedList",function(A,z){o.toggleList(y,"UL",z)});y.addCommand("InsertOrderedList",function(A,z){o.toggleList(y,"OL",z)});y.addCommand("InsertDefinitionList",function(A,z){o.toggleList(y,"DL",z)})};var m=function(y){y.addQueryStateHandler("InsertUnorderedList",r(y,"UL"));y.addQueryStateHandler("InsertOrderedList",r(y,"OL"));y.addQueryStateHandler("InsertDefinitionList",r(y,"DL"))};var l=function(y){y.on("keydown",function(z){if(z.keyCode!==9||v.metaKeyPressed(z)){return}if(y.dom.getParent(y.selection.getStart(),"LI,DT,DD")){z.preventDefault();if(z.shiftKey){p.outdentSelection(y)}else{t.indentSelection(y)}}})};var w=function(A){var z=function(B){return function(){var C=this;A.on("NodeChange",function(E){var D=q.grep(E.parents,n.isListNode);C.active(D.length>0&&D[0].nodeName===B)})}};var y=function(C,D){var B=C.settings.plugins?C.settings.plugins:"";return q.inArray(B.split(/[ ,]/),D)!==-1};if(!y(A,"advlist")){A.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:z("OL")});A.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:z("UL")})}A.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(C){var B=C.control;A.on("nodechange",function(){var H=A.selection.getSelectedBlocks();var F=false;for(var G=0,E=H.length;!F&&G<E;G++){var D=H[G].nodeName;F=(D==="LI"&&n.isFirstChild(H[G])||D==="UL"||D==="OL"||D==="DD")}B.disabled(F)})}})};s.add("lists",function(y){w(y);x.setup(y);y.on("init",function(){u(y);m(y);l(y)});return{backspaceDelete:function(z){x.backspaceDelete(y,z)}}});return function(){}});i("tinymce.lists.Plugin")()})();