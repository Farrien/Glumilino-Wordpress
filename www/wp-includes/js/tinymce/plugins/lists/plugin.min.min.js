(function(){var s={};var v=function(c){var e=n(c);var b=c.split(".");var d=Function("return this;")();for(var a=0;a<b.length-1;++a){if(d[b[a]]===undefined){d[b[a]]={}}d=d[b[a]]}d[b[b.length-1]]=e};var l=function(c){var d=s[c];var f=d.deps;var h=d.defn;var b=f.length;var e=new Array(b);for(var a=0;a<b;++a){e[a]=n(f[a])}var g=h.apply(null,e);if(g===undefined){throw"module ["+c+"] returned undefined"}d.instance=g};var u=function(c,a,b){if(typeof c!=="string"){throw"module id must be a string"}else{if(a===undefined){throw"no dependencies for "+c}else{if(b===undefined){throw"no definition function for "+c}}}s[c]={deps:a,defn:b,instance:undefined}};var n=function(a){var b=s[a];if(b===undefined){throw"module ["+a+"] was undefined"}else{if(b.instance===undefined){l(a)}}return b.instance};var p=function(e,c){var b=e.length;var d=new Array(b);for(var a=0;a<b;++a){d.push(n(e[a]))}c.apply(null,c)};var o={};o.bolt={module:{api:{define:u,require:p,demand:n}}};var r=u;var t=p;var m=n;var q=function(a,b){r(a,[],function(){return b})};q("global!tinymce.PluginManager",tinymce.PluginManager);q("global!tinymce.util.Tools",tinymce.util.Tools);q("global!tinymce.util.VK",tinymce.util.VK);r("tinymce.lists.core.NodeType",[],function(){var g=function(k){return k&&k.nodeType===3};var f=function(k){return k&&(/^(OL|UL|DL)$/).test(k.nodeName)};var j=function(k){return k&&/^(LI|DT|DD)$/.test(k.nodeName)};var a=function(k){return k&&k.nodeName==="BR"};var c=function(k){return k.parentNode.firstChild===k};var e=function(k){return k.parentNode.lastChild===k};var h=function(x,k){return k&&!!x.schema.getTextBlockElements()[k.nodeName]};var d=function(k,x){if(!a(x)){return false}if(k.isBlock(x.nextSibling)&&!a(x.previousSibling)){return true}return false};var b=function(k,B,z){var A=k.isEmpty(B);if(z&&k.select("span[data-mce-type=bookmark]",B).length>0){return false}return A};var i=function(x,k){return x.isChildOf(k,x.getRoot())};return{isTextNode:g,isListNode:f,isListItemNode:j,isBr:a,isFirstChild:c,isLastChild:e,isTextBlock:h,isBogusBr:d,isEmpty:b,isChildOfBody:i}});q("global!tinymce.dom.TreeWalker",tinymce.dom.TreeWalker);q("global!tinymce.dom.RangeUtils",tinymce.dom.RangeUtils);r("tinymce.lists.core.Selection",["global!tinymce.util.Tools","tinymce.lists.core.NodeType"],function(a,b){var c=function(d){return a.grep(d.selection.getSelectedBlocks(),function(e){return b.isListItemNode(e)})};return{getSelectedListItems:c}});q("global!tinymce.dom.DOMUtils.DOM",tinymce.dom.DOMUtils.DOM);r("tinymce.lists.core.Range",["global!tinymce.dom.RangeUtils","tinymce.lists.core.NodeType"],function(d,b){var a=function(h,f){var g=d.getNode(h,f);if(b.isListItemNode(h)&&b.isTextNode(g)){var e=f>=h.childNodes.length?g.data.length:0;return{container:g,offset:e}}return{container:h,offset:f}};var c=function(g){var h=g.cloneRange();var e=a(g.startContainer,g.startOffset);h.setStart(e.container,e.offset);var f=a(g.endContainer,g.endOffset);h.setEnd(f.container,f.offset);return h};return{getNormalizedEndPoint:a,normalizeRange:c}});r("tinymce.lists.core.Bookmark",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Range"],function(e,a,c){var d=function(h){var g={};var f=function(i){var k,x,j;x=h[i?"startContainer":"endContainer"];j=h[i?"startOffset":"endOffset"];if(x.nodeType===1){k=e.create("span",{"data-mce-type":"bookmark"});if(x.hasChildNodes()){j=Math.min(j,x.childNodes.length-1);if(i){x.insertBefore(k,x.childNodes[j])}else{e.insertAfter(k,x.childNodes[j])}}else{x.appendChild(k)}x=k;j=0}g[i?"startContainer":"endContainer"]=x;g[i?"startOffset":"endOffset"]=j};f(true);if(!h.collapsed){f()}return g};var b=function(g){function f(i){var z,k,y;var j=function(x){var w=x.parentNode.firstChild,B=0;while(w){if(w===x){return B}if(w.nodeType!==1||w.getAttribute("data-mce-type")!=="bookmark"){B++}w=w.nextSibling}return -1};z=y=g[i?"startContainer":"endContainer"];k=g[i?"startOffset":"endOffset"];if(!z){return}if(z.nodeType===1){k=j(z);z=z.parentNode;e.remove(y)}g[i?"startContainer":"endContainer"]=z;g[i?"startOffset":"endOffset"]=k}f(true);f();var h=e.createRng();h.setStart(g.startContainer,g.startOffset);if(g.endContainer){h.setEnd(g.endContainer,g.endOffset)}return c.normalizeRange(h)};return{createBookmark:d,resolveBookmark:b}});r("tinymce.lists.core.NormalizeLists",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.util.Tools","tinymce.lists.core.NodeType"],function(c,e,b){var a=function(f,h){var g,i=h.parentNode;if(i.nodeName==="LI"&&i.firstChild===h){g=i.previousSibling;if(g&&g.nodeName==="LI"){g.appendChild(h);if(b.isEmpty(f,i)){c.remove(i)}}else{c.setStyle(i,"listStyleType","none")}}if(b.isListNode(i)){g=i.previousSibling;if(g&&g.nodeName==="LI"){g.appendChild(h)}}};var d=function(f,g){e.each(e.grep(f.select("ol,ul",g)),function(h){a(f,h)})};return{normalizeList:a,normalizeLists:d}});q("global!tinymce.dom.BookmarkManager",tinymce.dom.BookmarkManager);q("global!tinymce.Env",tinymce.Env);r("tinymce.lists.core.TextBlock",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.Env"],function(a,b){var c=function(e,f,k){var g,i,x=a.createFragment(),d;var h=e.schema.getBlockElements();if(e.settings.forced_root_block){k=k||e.settings.forced_root_block}if(k){i=a.create(k);if(i.tagName===e.settings.forced_root_block){a.setAttribs(i,e.settings.forced_root_block_attrs)}x.appendChild(i)}if(f){while((g=f.firstChild)){var j=g.nodeName;if(!d&&(j!=="SPAN"||g.getAttribute("data-mce-type")!=="bookmark")){d=true}if(h[j]){x.appendChild(g);i=null}else{if(k){if(!i){i=a.create(k);x.appendChild(i)}i.appendChild(g)}else{x.appendChild(g)}}}}if(!e.settings.forced_root_block){x.appendChild(a.create("br"))}else{if(!d&&(!b.ie||b.ie>10)){i.appendChild(a.create("br",{"data-mce-bogus":"1"}))}}return x};return{createNewTextBlock:c}});r("tinymce.lists.core.SplitList",["global!tinymce.dom.DOMUtils.DOM","global!tinymce.util.Tools","tinymce.lists.core.TextBlock","tinymce.lists.core.NodeType"],function(c,d,e,a){var b=function(A,z,i,j){var h,k,g,f;var B=function(w){d.each(g,function(x){w.parentNode.insertBefore(x,i.parentNode)});c.remove(w)};g=c.select('span[data-mce-type="bookmark"]',z);j=j||e.createNewTextBlock(A,i);h=c.createRng();h.setStartAfter(i);h.setEndAfter(z);k=h.extractContents();for(f=k.firstChild;f;f=f.firstChild){if(f.nodeName==="LI"&&A.dom.isEmpty(f)){c.remove(f);break}}if(!A.dom.isEmpty(k)){c.insertAfter(k,z)}c.insertAfter(j,z);if(a.isEmpty(A.dom,i.parentNode)){B(i.parentNode)}c.remove(i);if(a.isEmpty(A.dom,z)){c.remove(z)}};return{splitList:b}});r("tinymce.lists.actions.Outdent",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Selection","tinymce.lists.core.SplitList","tinymce.lists.core.NormalizeLists","tinymce.lists.core.TextBlock"],function(j,f,e,h,b,d,g){var i=function(k,x){if(f.isEmpty(k,x)){j.remove(x)}};var a=function(D,A){var k=A.parentNode,B=k.parentNode,C;if(k===D.getBody()){return true}if(A.nodeName==="DD"){j.rename(A,"DT");return true}if(f.isFirstChild(A)&&f.isLastChild(A)){if(B.nodeName==="LI"){j.insertAfter(A,B);i(D.dom,B);j.remove(k)}else{if(f.isListNode(B)){j.remove(k,true)}else{B.insertBefore(g.createNewTextBlock(D,A),k);j.remove(k)}}return true}else{if(f.isFirstChild(A)){if(B.nodeName==="LI"){j.insertAfter(A,B);A.appendChild(k);i(D.dom,B)}else{if(f.isListNode(B)){B.insertBefore(A,k)}else{B.insertBefore(g.createNewTextBlock(D,A),k);j.remove(A)}}return true}else{if(f.isLastChild(A)){if(B.nodeName==="LI"){j.insertAfter(A,B)}else{if(f.isListNode(B)){j.insertAfter(A,k)}else{j.insertAfter(g.createNewTextBlock(D,A),k);j.remove(A)}}return true}}}if(B.nodeName==="LI"){k=B;C=g.createNewTextBlock(D,A,"LI")}else{if(f.isListNode(B)){C=g.createNewTextBlock(D,A,"LI")}else{C=g.createNewTextBlock(D,A)}}b.splitList(D,k,A,C);d.normalizeLists(D.dom,k.parentNode);return true};var c=function(y){var k=h.getSelectedListItems(y);if(k.length){var G=e.createBookmark(y.selection.getRng(true));var D,F,E=y.getBody();D=k.length;while(D--){var H=k[D].parentNode;while(H&&H!==E){F=k.length;while(F--){if(k[F]===H){k.splice(D,1);break}}H=H.parentNode}}for(D=0;D<k.length;D++){if(!a(y,k[D])&&D===0){break}}y.selection.setRng(e.resolveBookmark(G));y.nodeChanged();return true}};return{outdent:a,outdentSelection:c}});r("tinymce.lists.actions.ToggleList",["global!tinymce.util.Tools","global!tinymce.dom.BookmarkManager","tinymce.lists.core.Selection","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.SplitList","tinymce.lists.core.NormalizeLists","tinymce.lists.actions.Outdent"],function(Q,N,O,L,j,J,d,P){var h=function(w,x,y){var z=y["list-style-type"]?y["list-style-type"]:null;w.setStyle(x,"list-style-type",z)};var c=function(w,x){Q.each(x,function(y,z){w.setAttribute(z,y)})};var k=function(w,x,y){c(x,y["list-attributes"]);Q.each(w.select("li",x),function(z){c(z,y["list-item-attributes"])})};var e=function(w,x,y){h(w,x,y);k(w,x,y)};var i=function(x,y,B){var z,w,A=x.getBody();z=y[B?"startContainer":"endContainer"];w=y[B?"startOffset":"endOffset"];if(z.nodeType===1){z=z.childNodes[Math.min(w,z.childNodes.length-1)]||z}while(z.parentNode!==A){if(L.isTextBlock(x,z)){return z}if(/^(TD|TH)$/.test(z.parentNode.nodeName)){return z}z=z.parentNode}return z};var R=function(z,F){var w=[],y=z.getBody(),B=z.dom;var E=i(z,F,true);var A=i(z,F,false);var C,x=[];for(var D=E;D;D=D.nextSibling){x.push(D);if(D===A){break}}Q.each(x,function(T){if(L.isTextBlock(z,T)){w.push(T);C=null;return}if(B.isBlock(T)||L.isBr(T)){if(L.isBr(T)){B.remove(T)}C=null;return}var G=T.nextSibling;if(N.isBookmarkNode(T)){if(L.isTextBlock(z,G)||(!G&&T.parentNode===y)){C=null;return}}if(!C){C=B.create("p");T.parentNode.insertBefore(C,T);w.push(C)}C.appendChild(T)});return w};var K=function(C,z,w){var A=C.selection.getRng(true),x,y="LI";var B=C.dom;w=w?w:{};if(B.getContentEditable(C.selection.getNode())==="false"){return}z=z.toUpperCase();if(z==="DL"){y="DT"}x=j.createBookmark(A);Q.each(R(C,A),function(D){var F,E;var G=function(X){var W=B.getStyle(X,"list-style-type");var V=w?w["list-style-type"]:"";V=V===null?"":V;return W===V};E=D.previousSibling;if(E&&L.isListNode(E)&&E.nodeName===z&&G(E)){F=E;D=B.rename(D,y);E.appendChild(D)}else{F=B.create(z);D.parentNode.insertBefore(F,D);F.appendChild(D);D=B.rename(D,y)}e(B,F,w);g(C.dom,F)});C.selection.setRng(j.resolveBookmark(x))};var H=function(x){var y=j.createBookmark(x.selection.getRng(true)),z=x.getBody();var w=O.getSelectedListItems(x);var A=Q.grep(w,function(B){return x.dom.isEmpty(B)});w=Q.grep(w,function(B){return !x.dom.isEmpty(B)});Q.each(A,function(B){if(L.isEmpty(x.dom,B)){P.outdent(x,B);return}});Q.each(w,function(D){var B,C;if(D.parentNode===x.getBody()){return}for(B=D;B&&B!==z;B=B.parentNode){if(L.isListNode(B)){C=B}}J.splitList(x,C,D);d.normalizeLists(x.dom,C.parentNode)});x.selection.setRng(j.resolveBookmark(y))};var f=function(x,w){return x&&w&&L.isListNode(x)&&x.nodeName===w.nodeName};var a=function(x,A,w){var z=x.getStyle(A,"list-style-type",true);var y=x.getStyle(w,"list-style-type",true);return z===y};var M=function(w,x){return w.className===x.className};var b=function(x,y,w){return f(y,w)&&a(x,y,w)&&M(y,w)};var g=function(w,z){var y,x;y=z.nextSibling;if(b(w,z,y)){while((x=y.firstChild)){z.appendChild(x)}w.remove(y)}y=z.previousSibling;if(b(w,z,y)){while((x=y.lastChild)){z.insertBefore(x,z.firstChild)}w.remove(y)}};var I=function(w,z,x){var A=w.dom.getParent(w.selection.getStart(),"OL,UL,DL");x=x?x:{};if(A===w.getBody()){return}if(A){if(A.nodeName===z){H(w,z)}else{var y=j.createBookmark(w.selection.getRng(true));e(w.dom,A,x);g(w.dom,w.dom.rename(A,z));w.selection.setRng(j.resolveBookmark(y))}}else{K(w,z,x)}};return{toggleList:I,removeList:H,mergeWithAdjacentLists:g}});r("tinymce.lists.core.Delete",["global!tinymce.dom.TreeWalker","global!tinymce.dom.RangeUtils","global!tinymce.util.VK","tinymce.lists.core.Selection","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Range","tinymce.lists.core.NormalizeLists","tinymce.lists.actions.ToggleList"],function(C,E,k,c,i,a,d,H,f){var e=function(A,B,y){var z=B.startContainer,w=B.startOffset;var J,x;if(z.nodeType===3&&(y?w<z.data.length:w>0)){return z}J=A.schema.getNonEmptyElements();if(z.nodeType===1){z=E.getNode(z,w)}x=new C(z,A.getBody());if(y){if(i.isBogusBr(A.dom,z)){x.next()}}while((z=x[y?"next":"prev2"]())){if(z.nodeName==="LI"&&!z.hasChildNodes()){return z}if(J[z.nodeName]){return z}if(z.nodeType===3&&z.data.length>0){return z}}};var D=function(w,A,x){var y,z,B=A.parentNode;if(!i.isChildOfBody(w,A)||!i.isChildOfBody(w,x)){return}if(i.isListNode(x.lastChild)){z=x.lastChild}if(B===x.lastChild){if(i.isBr(B.previousSibling)){w.remove(B.previousSibling)}}y=x.lastChild;if(y&&i.isBr(y)&&A.hasChildNodes()){w.remove(y)}if(i.isEmpty(w,x,true)){w.$(x).empty()}if(!i.isEmpty(w,A,true)){while((y=A.firstChild)){x.appendChild(y)}}if(z){x.appendChild(z)}w.remove(A);if(i.isEmpty(w,B)&&B!==w.getRoot()){w.remove(B)}};var g=function(M,y){var N=M.dom,A=M.selection;var z=N.getParent(A.getStart(),"LI"),B,x,w;if(z){B=z.parentNode;if(B===M.getBody()&&i.isEmpty(N,B)){return true}x=d.normalizeRange(A.getRng(true));w=N.getParent(e(M,x,y),"LI");if(w&&w!==z){var L=a.createBookmark(x);if(y){D(N,w,z)}else{D(N,z,w)}M.selection.setRng(a.resolveBookmark(L));return true}else{if(!w){if(!y&&f.removeList(M,B.nodeName)){return true}}}}return false};var F=function(z,y){var w=z.dom;var x=w.getParent(z.selection.getStart(),w.isBlock);if(x&&w.isEmpty(x)){var A=d.normalizeRange(z.selection.getRng(true));var B=w.getParent(e(z,A,y),"LI");if(B){z.undoManager.transact(function(){w.remove(x);f.mergeWithAdjacentLists(w,B.parentNode);z.selection.select(B,true);z.selection.collapse(y)});return true}}return false};var h=function(x,w){return g(x,w)||F(x,w)};var j=function(x){var w=x.dom.getParent(x.selection.getStart(),"LI,DT,DD");if(w||c.getSelectedListItems(x).length>0){x.undoManager.transact(function(){x.execCommand("Delete");H.normalizeLists(x.dom,x.getBody())});return true}return false};var G=function(x,w){return x.selection.isCollapsed()?h(x,w):j(x)};var b=function(w){w.on("keydown",function(x){if(x.keyCode===k.BACKSPACE){if(G(w,false)){x.preventDefault()}}else{if(x.keyCode===k.DELETE){if(G(w,true)){x.preventDefault()}}}})};return{setup:b,backspaceDelete:G}});r("tinymce.lists.actions.Indent",["global!tinymce.dom.DOMUtils.DOM","tinymce.lists.core.NodeType","tinymce.lists.core.Bookmark","tinymce.lists.core.Selection"],function(d,g,e,f){var c=function(h,i){var j;if(g.isListNode(h)){while((j=h.firstChild)){i.appendChild(j)}d.remove(h)}};var b=function(k){var i,j,h;if(k.nodeName==="DT"){d.rename(k,"DD");return true}i=k.previousSibling;if(i&&g.isListNode(i)){i.appendChild(k);return true}if(i&&i.nodeName==="LI"&&g.isListNode(i.lastChild)){i.lastChild.appendChild(k);c(k.lastChild,i.lastChild);return true}i=k.nextSibling;if(i&&g.isListNode(i)){i.insertBefore(k,i.firstChild);return true}i=k.previousSibling;if(i&&i.nodeName==="LI"){j=d.create(k.parentNode.nodeName);h=d.getStyle(k.parentNode,"listStyleType");if(h){d.setStyle(j,"listStyleType",h)}i.appendChild(j);j.appendChild(k);c(k.lastChild,j);return true}return false};var a=function(h){var j=f.getSelectedListItems(h);if(j.length){var i=e.createBookmark(h.selection.getRng(true));for(var k=0;k<j.length;k++){if(!b(j[k])&&k===0){break}}h.selection.setRng(e.resolveBookmark(i));h.nodeChanged();return true}};return{indentSelection:a}});r("tinymce.lists.Plugin",["global!tinymce.PluginManager","global!tinymce.util.Tools","global!tinymce.util.VK","tinymce.lists.core.NodeType","tinymce.lists.core.Delete","tinymce.lists.actions.Indent","tinymce.lists.actions.Outdent","tinymce.lists.actions.ToggleList"],function(z,b,j,e,h,y,c,d){var a=function(w,x){return function(){var B=w.dom.getParent(w.selection.getStart(),"UL,OL,DL");return B&&B.nodeName===x}};var k=function(w){w.on("BeforeExecCommand",function(D){var x=D.command.toLowerCase(),C;if(x==="indent"){if(y.indentSelection(w)){C=true}}else{if(x==="outdent"){if(c.outdentSelection(w)){C=true}}}if(C){w.fire("ExecCommand",{command:D.command});D.preventDefault();return true}});w.addCommand("InsertUnorderedList",function(x,B){d.toggleList(w,"UL",B)});w.addCommand("InsertOrderedList",function(x,B){d.toggleList(w,"OL",B)});w.addCommand("InsertDefinitionList",function(x,B){d.toggleList(w,"DL",B)})};var f=function(w){w.addQueryStateHandler("InsertUnorderedList",a(w,"UL"));w.addQueryStateHandler("InsertOrderedList",a(w,"OL"));w.addQueryStateHandler("InsertDefinitionList",a(w,"DL"))};var g=function(w){w.on("keydown",function(x){if(x.keyCode!==9||j.metaKeyPressed(x)){return}if(w.dom.getParent(w.selection.getStart(),"LI,DT,DD")){x.preventDefault();if(x.shiftKey){c.outdentSelection(w)}else{y.indentSelection(w)}}})};var i=function(w){var x=function(A){return function(){var D=this;w.on("NodeChange",function(C){var F=b.grep(C.parents,e.isListNode);D.active(F.length>0&&F[0].nodeName===A)})}};var B=function(E,A){var F=E.settings.plugins?E.settings.plugins:"";return b.inArray(F.split(/[ ,]/),A)!==-1};if(!B(w,"advlist")){w.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:x("OL")});w.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:x("UL")})}w.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(A){var D=A.control;w.on("nodechange",function(){var C=w.selection.getSelectedBlocks();var J=false;for(var I=0,K=C.length;!J&&I<K;I++){var L=C[I].nodeName;J=(L==="LI"&&e.isFirstChild(C[I])||L==="UL"||L==="OL"||L==="DD")}D.disabled(J)})}})};z.add("lists",function(w){i(w);h.setup(w);w.on("init",function(){k(w);f(w);g(w)});return{backspaceDelete:function(x){h.backspaceDelete(w,x)}}});return function(){}});n("tinymce.lists.Plugin")()})();